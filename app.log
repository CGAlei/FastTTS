INFO:     Will watch for changes in these directories: ['/mnt/d/FastTTS']
INFO:     Uvicorn running on http://0.0.0.0:5001 (Press CTRL+C to quit)
INFO:     Started reloader process [9789] using WatchFiles
Link: http://localhost:5001
INFO:     Started server process [9806]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:     127.0.0.1:42028 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:42028 - "GET /static/js/settings-manager.js HTTP/1.1" 200 OK
INFO:minimax_tts:🔑 Loading MiniMax credentials...
INFO:minimax_tts:   API Key: ✅ Set
INFO:minimax_tts:   Group ID: ✅ Set
INFO:minimax_tts:   Custom Voice: Not set
INFO:minimax_tts:   Model: speech-02-turbo
INFO:minimax_tts:🔑 Loading MiniMax credentials...
INFO:minimax_tts:   API Key: ✅ Set
INFO:minimax_tts:   Group ID: ✅ Set
INFO:minimax_tts:   Custom Voice: Not set
INFO:minimax_tts:   Model: speech-02-turbo
INFO:minimax_tts:🔧 MiniMax configuration status: ✅ Ready
INFO:     127.0.0.1:42028 - "GET /tts-engines-info HTTP/1.1" 200 OK
INFO:     127.0.0.1:42028 - "GET /credentials-status HTTP/1.1" 200 OK
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:2 changes detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:2 changes detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:     127.0.0.1:52174 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:52174 - "GET /static/js/settings-manager.js HTTP/1.1" 200 OK
INFO:minimax_tts:🔑 Loading MiniMax credentials...
INFO:minimax_tts:   API Key: ✅ Set
INFO:minimax_tts:   Group ID: ✅ Set
INFO:minimax_tts:   Custom Voice: Not set
INFO:minimax_tts:   Model: speech-02-turbo
INFO:minimax_tts:🔧 MiniMax configuration status: ✅ Ready
INFO:     127.0.0.1:52174 - "GET /tts-engines-info HTTP/1.1" 200 OK
INFO:     127.0.0.1:52174 - "GET /credentials-status HTTP/1.1" 200 OK
INFO:watchfiles.main:1 change detected
INFO:     127.0.0.1:52174 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:52174 - "GET /static/css/main.css?v=2 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52178 - "GET /static/css/themes.css?v=2 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52174 - "GET /static/css/components.css?v=2 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52178 - "GET /static/css/responsive.css?v=2 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52174 - "GET /static/js/theme-manager.js HTTP/1.1" 200 OK
INFO:     127.0.0.1:52178 - "GET /static/js/ui-manager.js HTTP/1.1" 200 OK
INFO:     127.0.0.1:52174 - "GET /static/js/session-manager.js HTTP/1.1" 200 OK
INFO:     127.0.0.1:52178 - "GET /static/js/audio-player.js HTTP/1.1" 200 OK
INFO:     127.0.0.1:52174 - "GET /static/js/karaoke-interactions.js HTTP/1.1" 200 OK
INFO:     127.0.0.1:52178 - "GET /static/js/settings-manager.js HTTP/1.1" 200 OK
INFO:minimax_tts:🔑 Loading MiniMax credentials...
INFO:minimax_tts:   API Key: ✅ Set
INFO:minimax_tts:   Group ID: ✅ Set
INFO:minimax_tts:   Custom Voice: Not set
INFO:minimax_tts:   Model: speech-02-turbo
INFO:minimax_tts:🔧 MiniMax configuration status: ✅ Ready
INFO:     127.0.0.1:52178 - "GET /tts-engines-info HTTP/1.1" 200 OK
INFO:     127.0.0.1:52178 - "GET /credentials-status HTTP/1.1" 200 OK
INFO:     127.0.0.1:52178 - "GET /favicon.ico HTTP/1.1" 404 Not Found
INFO:watchfiles.main:1 change detected
INFO:minimax_tts:🔑 Loading MiniMax credentials...
INFO:minimax_tts:   API Key: ✅ Set
INFO:minimax_tts:   Group ID: ✅ Set
INFO:minimax_tts:   Custom Voice: Not set
INFO:minimax_tts:   Model: speech-02-turbo
INFO:minimax_tts:🔧 MiniMax configuration status: ✅ Ready
INFO:minimax_tts:🎯 MiniMax TTS generation started
INFO:minimax_tts:   Text: '就像心里起的小波浪，是你突然想到的念头'
INFO:minimax_tts:   Voice: male-qn-qingse
INFO:minimax_tts:   Speed: 1.0
INFO:minimax_tts:🔑 Loading MiniMax credentials...
INFO:minimax_tts:   API Key: ✅ Set
INFO:minimax_tts:   Group ID: ✅ Set
INFO:minimax_tts:   Custom Voice: Not set
INFO:minimax_tts:   Model: speech-02-turbo
INFO:minimax_tts:🔧 MiniMax configuration status: ✅ Ready
Traceback (most recent call last):
  File "/mnt/d/FastTTS/main.py", line 643, in _generate_tts_response
    audio_data, word_timings = await tts_engine.generate_speech(text, voice, speed)
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/FastTTS/tts/minimax_tts_engine.py", line 141, in generate_speech
    cleaned_text = self.clean_text(text)
                   ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/FastTTS/tts/minimax_tts_engine.py", line 427, in clean_text
    text = re.sub(r'[【】\[\]{}「」『』]', '', text)
           ^^
NameError: name 're' is not defined. Did you forget to import 're'
============================================================
🎯 TTS GENERATION REQUEST STARTED
============================================================
📝 Form data received:
   Text: '就像心里起的小波浪，是你突然想到的念头'
   Engine: hailuo
   Voice: male-qn-qingse
   Speed: 1
🎤 Final parameters: engine=hailuo, voice=male-qn-qingse, speed=1×

🔧 _generate_tts_response called:
   Text: '就像心里起的小波浪，是你突然想到的念头'
   Engine: hailuo
   Voice: male-qn-qingse
   Speed: 1.0
🏭 Creating TTS engine instance for: hailuo
✅ Engine created: MiniMax Hailuo
🔧 Engine configuration status: True
🚀 Starting TTS generation with MiniMax Hailuo
============================================================
❌ TTS GENERATION FAILED
============================================================
Error type: NameError
Error message: name 're' is not defined
Engine: hailuo
Voice: male-qn-qingse
Speed: 1.0
Text: '就像心里起的小波浪，是你突然想到的念头'
Traceback:
============================================================
INFO:     127.0.0.1:52188 - "POST /generate-custom-tts HTTP/1.1" 200 OK
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:     127.0.0.1:49332 - "POST /save-credentials HTTP/1.1" 200 OK
INFO:     127.0.0.1:49332 - "GET /credentials-status HTTP/1.1" 200 OK
INFO:minimax_tts:🔑 Loading MiniMax credentials...
INFO:minimax_tts:   API Key: ✅ Set
INFO:minimax_tts:   Group ID: ✅ Set
INFO:minimax_tts:   Custom Voice: Not set
INFO:minimax_tts:   Model: speech-02-turbo
INFO:minimax_tts:🔧 MiniMax configuration status: ✅ Ready
INFO:     127.0.0.1:49332 - "GET /tts-engines-info HTTP/1.1" 200 OK
INFO:     127.0.0.1:49332 - "GET /favicon.ico HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:49332 - "GET /favicon.ico HTTP/1.1" 404 Not Found
INFO:watchfiles.main:2 changes detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:     127.0.0.1:43480 - "GET /static/css/themes.css?v=2 HTTP/1.1" 200 OK
INFO:     127.0.0.1:43482 - "GET /static/css/components.css?v=2 HTTP/1.1" 200 OK
INFO:     127.0.0.1:43486 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404 Not Found
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:2 changes detected
WARNING:  WatchFiles detected changes in 'tts/minimax_tts_engine.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [9806]
INFO:     Started server process [10133]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:watchfiles.main:3 changes detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:2 changes detected
WARNING:  WatchFiles detected changes in 'main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [10133]
INFO:     Started server process [10199]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:watchfiles.main:2 changes detected
INFO:watchfiles.main:1 change detected
INFO:     127.0.0.1:46090 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:46090 - "GET /static/css/themes.css?v=2 HTTP/1.1" 200 OK
INFO:     127.0.0.1:46090 - "GET /static/css/components.css?v=2 HTTP/1.1" 200 OK
INFO:     127.0.0.1:46090 - "GET /static/js/settings-manager.js HTTP/1.1" 200 OK
INFO:minimax_tts:🔑 Loading MiniMax credentials...
INFO:minimax_tts:   API Key: ✅ Set
INFO:minimax_tts:   Group ID: ✅ Set
INFO:minimax_tts:   Custom Voice: Not set
INFO:minimax_tts:   Model: speech-02-turbo
INFO:minimax_tts:🔑 Loading MiniMax credentials...
INFO:minimax_tts:   API Key: ✅ Set
INFO:minimax_tts:   Group ID: ✅ Set
INFO:minimax_tts:   Custom Voice: Not set
INFO:minimax_tts:   Model: speech-02-turbo
INFO:minimax_tts:🔧 MiniMax configuration status: ✅ Ready
INFO:     127.0.0.1:46090 - "GET /tts-engines-info HTTP/1.1" 200 OK
INFO:     127.0.0.1:46090 - "GET /credentials-status HTTP/1.1" 200 OK
INFO:watchfiles.main:1 change detected
INFO:     127.0.0.1:46090 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:46090 - "GET /static/css/main.css?v=2 HTTP/1.1" 200 OK
INFO:     127.0.0.1:46104 - "GET /static/css/themes.css?v=2 HTTP/1.1" 200 OK
INFO:     127.0.0.1:46112 - "GET /static/css/components.css?v=2 HTTP/1.1" 200 OK
INFO:     127.0.0.1:46122 - "GET /static/css/responsive.css?v=2 HTTP/1.1" 200 OK
INFO:     127.0.0.1:46104 - "GET /static/js/session-manager.js HTTP/1.1" 200 OK
INFO:     127.0.0.1:46090 - "GET /static/js/theme-manager.js HTTP/1.1" 200 OK
INFO:     127.0.0.1:46112 - "GET /static/js/ui-manager.js HTTP/1.1" 200 OK
INFO:     127.0.0.1:46122 - "GET /static/js/audio-player.js HTTP/1.1" 200 OK
INFO:     127.0.0.1:46112 - "GET /static/js/karaoke-interactions.js HTTP/1.1" 200 OK
INFO:     127.0.0.1:46104 - "GET /static/js/settings-manager.js HTTP/1.1" 200 OK
INFO:minimax_tts:🔑 Loading MiniMax credentials...
INFO:minimax_tts:   API Key: ✅ Set
INFO:minimax_tts:   Group ID: ✅ Set
INFO:minimax_tts:   Custom Voice: Not set
INFO:minimax_tts:   Model: speech-02-turbo
INFO:minimax_tts:🔧 MiniMax configuration status: ✅ Ready
INFO:     127.0.0.1:46112 - "GET /tts-engines-info HTTP/1.1" 200 OK
INFO:     127.0.0.1:46112 - "GET /credentials-status HTTP/1.1" 200 OK
INFO:     127.0.0.1:46112 - "GET /favicon.ico HTTP/1.1" 404 Not Found
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
🔐==================================================
💾 SAVE CREDENTIALS REQUEST
🔐==================================================
📝 Request data:
   Engine: hailuo
   Credentials keys: ['api_key', 'group_id', 'custom_voice_id', 'model']
   api_key: ***3F7Q
   group_id: 1881950105762796202
   custom_voice_id: 
   model: speech-02-turbo
🔄 Calling credentials_manager.set_credentials for: hailuo
📊 Credentials manager result:
   Success: True
🔐==================================================
INFO:     127.0.0.1:46134 - "POST /save-credentials HTTP/1.1" 200 OK
INFO:     127.0.0.1:46134 - "GET /credentials-status HTTP/1.1" 200 OK
INFO:minimax_tts:🔑 Loading MiniMax credentials...
INFO:minimax_tts:   API Key: ✅ Set
INFO:minimax_tts:   Group ID: ✅ Set
INFO:minimax_tts:   Custom Voice: Not set
INFO:minimax_tts:   Model: speech-02-turbo
INFO:minimax_tts:🔧 MiniMax configuration status: ✅ Ready
INFO:     127.0.0.1:46134 - "GET /tts-engines-info HTTP/1.1" 200 OK
INFO:     127.0.0.1:46134 - "GET /favicon.ico HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:46134 - "GET /favicon.ico HTTP/1.1" 404 Not Found
INFO:watchfiles.main:2 changes detected
INFO:watchfiles.main:1 change detected
INFO:     127.0.0.1:46142 - "GET /load-session/20250618_210300 HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '重' (word-19)
📊 Processing hover-enter for word '重' at position 19
INFO:     127.0.0.1:46142 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '农' (word-20)
📊 Processing hover-enter for word '农' at position 20
INFO:     127.0.0.1:46142 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '不会' (word-29)
📊 Processing hover-enter for word '不会' at position 29
INFO:     127.0.0.1:46142 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '威胁' (word-30)
📊 Processing hover-enter for word '威胁' at position 30
INFO:     127.0.0.1:46142 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '根基' (word-39)
📊 Processing hover-enter for word '根基' at position 39
INFO:     127.0.0.1:46142 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '商业' (word-40)
📊 Processing hover-enter for word '商业' at position 40
INFO:     127.0.0.1:46142 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '则' (word-41)
📊 Processing hover-enter for word '则' at position 41
INFO:     127.0.0.1:46142 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '成为' (word-42)
📊 Processing hover-enter for word '成为' at position 42
INFO:     127.0.0.1:46142 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '其' (word-32)
📊 Processing hover-enter for word '其' at position 32
INFO:     127.0.0.1:46142 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '到' (word-31)
📊 Processing hover-enter for word '到' at position 31
INFO:     127.0.0.1:46142 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '的' (word-23)
📊 Processing hover-enter for word '的' at position 23
INFO:     127.0.0.1:46142 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '商' (word-22)
📊 Processing hover-enter for word '商' at position 22
INFO:     127.0.0.1:46142 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '抑' (word-21)
📊 Processing hover-enter for word '抑' at position 21
INFO:     127.0.0.1:46142 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '农' (word-20)
📊 Processing hover-enter for word '农' at position 20
INFO:     127.0.0.1:46142 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '重' (word-19)
📊 Processing hover-enter for word '重' at position 19
INFO:     127.0.0.1:46142 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '重' (word-19)
📊 Processing hover-enter for word '重' at position 19
INFO:     127.0.0.1:46142 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '经济' (word-27)
📊 Processing hover-enter for word '经济' at position 27
INFO:     127.0.0.1:46142 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '活动' (word-28)
📊 Processing hover-enter for word '活动' at position 28
INFO:     127.0.0.1:46142 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '不会' (word-29)
📊 Processing hover-enter for word '不会' at position 29
INFO:     127.0.0.1:46142 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '威胁' (word-30)
📊 Processing hover-enter for word '威胁' at position 30
INFO:     127.0.0.1:46142 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '历代' (word-15)
📊 Processing hover-enter for word '历代' at position 15
INFO:     127.0.0.1:46142 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '自由' (word-14)
📊 Processing hover-enter for word '自由' at position 14
INFO:     127.0.0.1:46142 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '的' (word-4)
📊 Processing hover-enter for word '的' at position 4
INFO:     127.0.0.1:46142 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '人' (word-3)
📊 Processing hover-enter for word '人' at position 3
INFO:     127.0.0.1:46142 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '控制' (word-2)
📊 Processing hover-enter for word '控制' at position 2
INFO:     127.0.0.1:46142 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:minimax_tts:🔑 Loading MiniMax credentials...
INFO:minimax_tts:   API Key: ✅ Set
INFO:minimax_tts:   Group ID: ✅ Set
INFO:minimax_tts:   Custom Voice: Not set
INFO:minimax_tts:   Model: speech-02-turbo
INFO:minimax_tts:🔧 MiniMax configuration status: ✅ Ready
INFO:minimax_tts:🎯 MiniMax TTS generation started
INFO:minimax_tts:   Text: '只有了解彼此的复杂'
INFO:minimax_tts:   Voice: male-qn-qingse
INFO:minimax_tts:   Speed: 1.0
INFO:minimax_tts:🔑 Loading MiniMax credentials...
INFO:minimax_tts:   API Key: ✅ Set
INFO:minimax_tts:   Group ID: ✅ Set
INFO:minimax_tts:   Custom Voice: Not set
INFO:minimax_tts:   Model: speech-02-turbo
INFO:minimax_tts:🔧 MiniMax configuration status: ✅ Ready
INFO:minimax_tts:   Cleaned text: '只有了解彼此的复杂'
INFO:minimax_tts:🔄 Calling MiniMax API...
INFO:minimax_tts:📞 API Request Details:
INFO:minimax_tts:   URL: https://api.minimax.io/v1/t2a_v2?GroupId=1881950105762796202
INFO:minimax_tts:   Model: speech-02-turbo
INFO:minimax_tts:   Voice: male-qn-qingse (requested: male-qn-qingse)
INFO:minimax_tts:   Speed: 1.0
INFO:minimax_tts:   Text length: 9 characters
INFO:minimax_tts:🔄 Sending request to MiniMax API...
INFO:minimax_tts:📊 Response received in 1.42s
INFO:minimax_tts:   Status code: 200
INFO:minimax_tts:   Response size: 98 bytes
DEBUG:minimax_tts:📋 API Response structure: ['base_resp']
INFO:minimax_tts:   API Status: 2013 - invalid params, model does not support subtitles
ERROR:minimax_tts:❌ MiniMax API error: invalid params, model does not support subtitles
ERROR:minimax_tts:❌ TTS generation failed: MiniMax API error: invalid params, model does not support subtitles
ERROR:minimax_tts:❌ MiniMax TTS generation failed: MiniMax TTS generation failed: MiniMax API error: invalid params, model does not support subtitles
Traceback (most recent call last):
  File "/mnt/d/FastTTS/tts/minimax_tts_engine.py", line 238, in _call_minimax_api
    raise RuntimeError(f"MiniMax API error: {error_msg}")
RuntimeError: MiniMax API error: invalid params, model does not support subtitles

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/mnt/d/FastTTS/main.py", line 643, in _generate_tts_response
    audio_data, word_timings = await tts_engine.generate_speech(text, voice, speed)
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/FastTTS/tts/minimax_tts_engine.py", line 151, in generate_speech
    audio_bytes, sentence_timings = await self._call_minimax_api(cleaned_text, voice, speed)
                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/FastTTS/tts/minimax_tts_engine.py", line 268, in _call_minimax_api
    raise RuntimeError(f"MiniMax TTS generation failed: {str(e)}")
RuntimeError: MiniMax TTS generation failed: MiniMax API error: invalid params, model does not support subtitles
============================================================
🎯 TTS GENERATION REQUEST STARTED
============================================================
📝 Form data received:
   Text: '只有了解彼此的复杂'
   Engine: hailuo
   Voice: male-qn-qingse
   Speed: 1
🎤 Final parameters: engine=hailuo, voice=male-qn-qingse, speed=1×

🔧 _generate_tts_response called:
   Text: '只有了解彼此的复杂'
   Engine: hailuo
   Voice: male-qn-qingse
   Speed: 1.0
🏭 Creating TTS engine instance for: hailuo
✅ Engine created: MiniMax Hailuo
🔧 Engine configuration status: True
🚀 Starting TTS generation with MiniMax Hailuo
============================================================
❌ TTS GENERATION FAILED
============================================================
Error type: RuntimeError
Error message: MiniMax TTS generation failed: MiniMax API error: invalid params, model does not support subtitles
Engine: hailuo
Voice: male-qn-qingse
Speed: 1.0
Text: '只有了解彼此的复杂'
Traceback:
============================================================
INFO:     127.0.0.1:51516 - "POST /generate-custom-tts HTTP/1.1" 200 OK
INFO:     127.0.0.1:51516 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404 Not Found
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:2 changes detected
INFO:     127.0.0.1:40120 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:40120 - "GET /static/css/components.css?v=2 HTTP/1.1" 200 OK
INFO:minimax_tts:🔑 Loading MiniMax credentials...
INFO:minimax_tts:   API Key: ✅ Set
INFO:minimax_tts:   Group ID: ✅ Set
INFO:minimax_tts:   Custom Voice: Not set
INFO:minimax_tts:   Model: speech-02-turbo
INFO:minimax_tts:🔧 MiniMax configuration status: ✅ Ready
INFO:     127.0.0.1:40120 - "GET /tts-engines-info HTTP/1.1" 200 OK
INFO:     127.0.0.1:40120 - "GET /credentials-status HTTP/1.1" 200 OK
INFO:     127.0.0.1:40120 - "GET /load-session/20250618_200050 HTTP/1.1" 200 OK
INFO:watchfiles.main:1 change detected
INFO:minimax_tts:🔑 Loading MiniMax credentials...
INFO:minimax_tts:   API Key: ✅ Set
INFO:minimax_tts:   Group ID: ✅ Set
INFO:minimax_tts:   Custom Voice: Not set
INFO:minimax_tts:   Model: speech-02-turbo
INFO:minimax_tts:🔧 MiniMax configuration status: ✅ Ready
INFO:minimax_tts:🎯 MiniMax TTS generation started
INFO:minimax_tts:   Text: '美国的资本也在暗戳戳的干这事。'
INFO:minimax_tts:   Voice: male-qn-qingse
INFO:minimax_tts:   Speed: 1.0
INFO:minimax_tts:🔑 Loading MiniMax credentials...
INFO:minimax_tts:   API Key: ✅ Set
INFO:minimax_tts:   Group ID: ✅ Set
INFO:minimax_tts:   Custom Voice: Not set
INFO:minimax_tts:   Model: speech-02-turbo
INFO:minimax_tts:🔧 MiniMax configuration status: ✅ Ready
INFO:minimax_tts:   Cleaned text: '美国的资本也在暗戳戳的干这事。'
INFO:minimax_tts:🔄 Calling MiniMax API...
INFO:minimax_tts:📞 API Request Details:
INFO:minimax_tts:   URL: https://api.minimax.io/v1/t2a_v2?GroupId=1881950105762796202
INFO:minimax_tts:   Model: speech-02-turbo
INFO:minimax_tts:   Voice: male-qn-qingse (requested: male-qn-qingse)
INFO:minimax_tts:   Speed: 1.0
INFO:minimax_tts:   Text length: 15 characters
INFO:minimax_tts:🔄 Sending request to MiniMax API...
INFO:minimax_tts:📊 Response received in 1.10s
INFO:minimax_tts:   Status code: 200
INFO:minimax_tts:   Response size: 98 bytes
DEBUG:minimax_tts:📋 API Response structure: ['base_resp']
INFO:minimax_tts:   API Status: 2013 - invalid params, model does not support subtitles
ERROR:minimax_tts:❌ MiniMax API error: invalid params, model does not support subtitles
ERROR:minimax_tts:❌ TTS generation failed: MiniMax API error: invalid params, model does not support subtitles
ERROR:minimax_tts:❌ MiniMax TTS generation failed: MiniMax TTS generation failed: MiniMax API error: invalid params, model does not support subtitles
Traceback (most recent call last):
  File "/mnt/d/FastTTS/tts/minimax_tts_engine.py", line 238, in _call_minimax_api
    raise RuntimeError(f"MiniMax API error: {error_msg}")
RuntimeError: MiniMax API error: invalid params, model does not support subtitles

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/mnt/d/FastTTS/main.py", line 643, in _generate_tts_response
    audio_data, word_timings = await tts_engine.generate_speech(text, voice, speed)
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/FastTTS/tts/minimax_tts_engine.py", line 151, in generate_speech
    audio_bytes, sentence_timings = await self._call_minimax_api(cleaned_text, voice, speed)
                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/FastTTS/tts/minimax_tts_engine.py", line 268, in _call_minimax_api
    raise RuntimeError(f"MiniMax TTS generation failed: {str(e)}")
RuntimeError: MiniMax TTS generation failed: MiniMax API error: invalid params, model does not support subtitles
============================================================
🎯 TTS GENERATION REQUEST STARTED
============================================================
📝 Form data received:
   Text: '美国的资本也在暗戳戳的干这事。'
   Engine: hailuo
   Voice: male-qn-qingse
   Speed: 1
🎤 Final parameters: engine=hailuo, voice=male-qn-qingse, speed=1×

🔧 _generate_tts_response called:
   Text: '美国的资本也在暗戳戳的干这事。'
   Engine: hailuo
   Voice: male-qn-qingse
   Speed: 1.0
🏭 Creating TTS engine instance for: hailuo
✅ Engine created: MiniMax Hailuo
🔧 Engine configuration status: True
🚀 Starting TTS generation with MiniMax Hailuo
============================================================
❌ TTS GENERATION FAILED
============================================================
Error type: RuntimeError
Error message: MiniMax TTS generation failed: MiniMax API error: invalid params, model does not support subtitles
Engine: hailuo
Voice: male-qn-qingse
Speed: 1.0
Text: '美国的资本也在暗戳戳的干这事。'
Traceback:
============================================================
INFO:     127.0.0.1:40120 - "POST /generate-custom-tts HTTP/1.1" 200 OK
INFO:watchfiles.main:1 change detected
🎯 Word interaction received: hover-enter on '这' (word-10)
📊 Processing hover-enter for word '这' at position 10
INFO:     127.0.0.1:40120 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:watchfiles.main:1 change detected
INFO:     127.0.0.1:40120 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404 Not Found
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:2 changes detected
WARNING:  WatchFiles detected changes in 'tts/minimax_tts_engine.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [10199]
INFO:     Started server process [10332]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:watchfiles.main:3 changes detected
INFO:watchfiles.main:2 changes detected
WARNING:  WatchFiles detected changes in 'tts/minimax_tts_engine.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [10332]
INFO:     Started server process [10334]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:watchfiles.main:3 changes detected
INFO:watchfiles.main:2 changes detected
WARNING:  WatchFiles detected changes in 'tts/minimax_tts_engine.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [10334]
INFO:     Started server process [10336]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:watchfiles.main:3 changes detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:2 changes detected
INFO:watchfiles.main:2 changes detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:     127.0.0.1:56218 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:56218 - "GET /static/css/themes.css?v=2 HTTP/1.1" 200 OK
INFO:     127.0.0.1:56218 - "GET /static/css/components.css?v=2 HTTP/1.1" 200 OK
INFO:     127.0.0.1:56218 - "GET /static/js/settings-manager.js HTTP/1.1" 200 OK
INFO:minimax_tts:🔑 Loading MiniMax credentials...
INFO:minimax_tts:   API Key: ✅ Set
INFO:minimax_tts:   Group ID: ✅ Set
INFO:minimax_tts:   Custom Voice: Not set
INFO:minimax_tts:   Model: speech-02-turbo
INFO:minimax_tts:🔑 Loading MiniMax credentials...
INFO:minimax_tts:   API Key: ✅ Set
INFO:minimax_tts:   Group ID: ✅ Set
INFO:minimax_tts:   Custom Voice: Not set
INFO:minimax_tts:   Model: speech-02-turbo
INFO:minimax_tts:🔧 MiniMax configuration status: ✅ Ready
INFO:     127.0.0.1:56218 - "GET /tts-engines-info HTTP/1.1" 200 OK
INFO:     127.0.0.1:56218 - "GET /credentials-status HTTP/1.1" 200 OK
INFO:     127.0.0.1:56218 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:56218 - "GET /static/css/main.css?v=2 HTTP/1.1" 200 OK
INFO:     127.0.0.1:56242 - "GET /static/css/responsive.css?v=2 HTTP/1.1" 200 OK
INFO:     127.0.0.1:56226 - "GET /static/css/themes.css?v=2 HTTP/1.1" 200 OK
INFO:     127.0.0.1:56230 - "GET /static/css/components.css?v=2 HTTP/1.1" 200 OK
INFO:     127.0.0.1:56218 - "GET /static/js/theme-manager.js HTTP/1.1" 200 OK
INFO:     127.0.0.1:56242 - "GET /static/js/ui-manager.js HTTP/1.1" 200 OK
INFO:     127.0.0.1:56226 - "GET /static/js/audio-player.js HTTP/1.1" 200 OK
INFO:     127.0.0.1:56230 - "GET /static/js/session-manager.js HTTP/1.1" 200 OK
INFO:     127.0.0.1:56218 - "GET /static/js/karaoke-interactions.js HTTP/1.1" 200 OK
INFO:     127.0.0.1:56230 - "GET /static/js/settings-manager.js HTTP/1.1" 200 OK
INFO:minimax_tts:🔑 Loading MiniMax credentials...
INFO:minimax_tts:   API Key: ✅ Set
INFO:minimax_tts:   Group ID: ✅ Set
INFO:minimax_tts:   Custom Voice: Not set
INFO:minimax_tts:   Model: speech-02-turbo
INFO:minimax_tts:🔧 MiniMax configuration status: ✅ Ready
INFO:     127.0.0.1:56230 - "GET /tts-engines-info HTTP/1.1" 200 OK
INFO:watchfiles.main:1 change detected
INFO:     127.0.0.1:56230 - "GET /credentials-status HTTP/1.1" 200 OK
INFO:     127.0.0.1:56230 - "GET /favicon.ico HTTP/1.1" 404 Not Found
🔐==================================================
💾 SAVE CREDENTIALS REQUEST
🔐==================================================
📝 Request data:
   Engine: hailuo
   Credentials keys: ['api_key', 'group_id', 'custom_voice_id', 'model']
   api_key: ***3F7Q
   group_id: 1881950105762796202
   custom_voice_id: moss_audio_4dc076ac-da6d-11ef-bd8d-f27a76fcd434
   model: speech-02-turbo
🔄 Calling credentials_manager.set_credentials for: hailuo
📊 Credentials manager result:
   Success: True
🔐==================================================
INFO:     127.0.0.1:56258 - "POST /save-credentials HTTP/1.1" 200 OK
INFO:     127.0.0.1:56258 - "GET /credentials-status HTTP/1.1" 200 OK
INFO:minimax_tts:🔑 Loading MiniMax credentials...
INFO:minimax_tts:   API Key: ✅ Set
INFO:minimax_tts:   Group ID: ✅ Set
INFO:minimax_tts:   Custom Voice: moss_audio_4dc076ac-da6d-11ef-bd8d-f27a76fcd434
INFO:minimax_tts:   Model: speech-02-turbo
INFO:minimax_tts:🎯 Custom voice updated: moss_audio_4dc076ac-da6d-11ef-bd8d-f27a76fcd434
INFO:minimax_tts:🔧 MiniMax configuration status: ✅ Ready
INFO:     127.0.0.1:56258 - "GET /tts-engines-info HTTP/1.1" 200 OK
INFO:     127.0.0.1:56258 - "GET /favicon.ico HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:56258 - "GET /favicon.ico HTTP/1.1" 404 Not Found
INFO:watchfiles.main:2 changes detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:minimax_tts:🔑 Loading MiniMax credentials...
INFO:minimax_tts:   API Key: ✅ Set
INFO:minimax_tts:   Group ID: ✅ Set
INFO:minimax_tts:   Custom Voice: moss_audio_4dc076ac-da6d-11ef-bd8d-f27a76fcd434
INFO:minimax_tts:   Model: speech-02-turbo
INFO:minimax_tts:🎯 Custom voice updated: moss_audio_4dc076ac-da6d-11ef-bd8d-f27a76fcd434
INFO:minimax_tts:🔧 MiniMax configuration status: ✅ Ready
INFO:minimax_tts:🎯 MiniMax TTS generation started
INFO:minimax_tts:   Text: '就像心里起的小波浪，是你突然想到的念头'
INFO:minimax_tts:   Voice: moss_audio_4dc076ac-da6d-11ef-bd8d-f27a76fcd434
INFO:minimax_tts:   Speed: 1.0
INFO:minimax_tts:🔑 Loading MiniMax credentials...
INFO:minimax_tts:   API Key: ✅ Set
INFO:minimax_tts:   Group ID: ✅ Set
INFO:minimax_tts:   Custom Voice: moss_audio_4dc076ac-da6d-11ef-bd8d-f27a76fcd434
INFO:minimax_tts:   Model: speech-02-turbo
INFO:minimax_tts:🎯 Custom voice updated: moss_audio_4dc076ac-da6d-11ef-bd8d-f27a76fcd434
INFO:minimax_tts:🔧 MiniMax configuration status: ✅ Ready
INFO:minimax_tts:   Cleaned text: '就像心里起的小波浪，是你突然想到的念头'
INFO:minimax_tts:🔄 Calling MiniMax API...
INFO:minimax_tts:🎯 Using custom voice: moss_audio_4dc076ac-da6d-11ef-bd8d-f27a76fcd434
INFO:minimax_tts:📞 API Request Details:
INFO:minimax_tts:   URL: https://api.minimax.io/v1/t2a_v2?GroupId=1881950105762796202
INFO:minimax_tts:   Model: speech-02-turbo
INFO:minimax_tts:   Voice: moss_audio_4dc076ac-da6d-11ef-bd8d-f27a76fcd434 (requested: moss_audio_4dc076ac-da6d-11ef-bd8d-f27a76fcd434)
INFO:minimax_tts:   Speed: 1.0
INFO:minimax_tts:   Text length: 19 characters
WARNING:minimax_tts:⚠️ Model speech-02-turbo does not support subtitles - using duration estimation
INFO:minimax_tts:🔄 Sending request to MiniMax API...
INFO:minimax_tts:📊 Response received in 2.71s
INFO:minimax_tts:   Status code: 200
INFO:minimax_tts:   Response size: 151476 bytes
DEBUG:minimax_tts:📋 API Response structure: ['data', 'extra_info', 'trace_id', 'base_resp']
INFO:minimax_tts:   API Status: 0 - success
INFO:minimax_tts:✅ Audio extracted: 75566 bytes
WARNING:minimax_tts:⚠️ No subtitle file provided by API
INFO:minimax_tts:✅ Audio generated successfully (75566 bytes)
INFO:minimax_tts:   Sentence timings: 0 segments
INFO:minimax_tts:🔄 Extracting word-level timings...
INFO:minimax_tts:✅ Generated 18 word timings
============================================================
🎯 TTS GENERATION REQUEST STARTED
============================================================
📝 Form data received:
   Text: '就像心里起的小波浪，是你突然想到的念头'
   Engine: hailuo
   Voice: moss_audio_4dc076ac-da6d-11ef-bd8d-f27a76fcd434
   Speed: 1
🎤 Final parameters: engine=hailuo, voice=moss_audio_4dc076ac-da6d-11ef-bd8d-f27a76fcd434, speed=1×

🔧 _generate_tts_response called:
   Text: '就像心里起的小波浪，是你突然想到的念头'
   Engine: hailuo
   Voice: moss_audio_4dc076ac-da6d-11ef-bd8d-f27a76fcd434
   Speed: 1.0
🏭 Creating TTS engine instance for: hailuo
✅ Engine created: MiniMax Hailuo
🔧 Engine configuration status: True
🚀 Starting TTS generation with MiniMax Hailuo
⚠️ MFA not available, falling back to duration estimation
✅ TTS generation completed!
   Audio size: 75566 bytes
   Word timings: 18 entries
INFO:     127.0.0.1:50678 - "POST /generate-custom-tts HTTP/1.1" 200 OK
INFO:     127.0.0.1:50678 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404 Not Found
INFO:watchfiles.main:6 changes detected
🎯 Word interaction received: hover-enter on '想' (word-13)
📊 Processing hover-enter for word '想' at position 13
INFO:     127.0.0.1:50678 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '然' (word-12)
📊 Processing hover-enter for word '然' at position 12
INFO:     127.0.0.1:50678 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '心' (word-2)
📊 Processing hover-enter for word '心' at position 2
INFO:     127.0.0.1:50678 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '像' (word-1)
📊 Processing hover-enter for word '像' at position 1
INFO:     127.0.0.1:50678 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:watchfiles.main:1 change detected
INFO:     127.0.0.1:50678 - "GET /favicon.ico HTTP/1.1" 404 Not Found
🎯 Word interaction received: hover-enter on '起' (word-4)
📊 Processing hover-enter for word '起' at position 4
INFO:     127.0.0.1:50678 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '到' (word-14)
📊 Processing hover-enter for word '到' at position 14
INFO:     127.0.0.1:50678 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:watchfiles.main:1 change detected
🎯 Word interaction received: hover-enter on '的' (word-5)
📊 Processing hover-enter for word '的' at position 5
INFO:     127.0.0.1:50384 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '到' (word-14)
📊 Processing hover-enter for word '到' at position 14
INFO:     127.0.0.1:50384 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '的' (word-15)
📊 Processing hover-enter for word '的' at position 15
INFO:     127.0.0.1:50384 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '的' (word-15)
📊 Processing hover-enter for word '的' at position 15
INFO:     127.0.0.1:50384 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '到' (word-14)
📊 Processing hover-enter for word '到' at position 14
INFO:     127.0.0.1:50384 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:watchfiles.main:1 change detected
🎯 Word interaction received: hover-enter on '起' (word-4)
📊 Processing hover-enter for word '起' at position 4
INFO:     127.0.0.1:50384 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '里' (word-3)
📊 Processing hover-enter for word '里' at position 3
INFO:     127.0.0.1:50384 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '心' (word-2)
📊 Processing hover-enter for word '心' at position 2
INFO:     127.0.0.1:50384 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
🎯 Word interaction received: hover-enter on '浪' (word-8)
📊 Processing hover-enter for word '浪' at position 8
INFO:     127.0.0.1:50394 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '波' (word-7)
📊 Processing hover-enter for word '波' at position 7
INFO:     127.0.0.1:50394 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '念' (word-16)
📊 Processing hover-enter for word '念' at position 16
INFO:     127.0.0.1:50394 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '的' (word-15)
📊 Processing hover-enter for word '的' at position 15
INFO:     127.0.0.1:50394 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '的' (word-5)
📊 Processing hover-enter for word '的' at position 5
INFO:     127.0.0.1:50394 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '起' (word-4)
📊 Processing hover-enter for word '起' at position 4
INFO:     127.0.0.1:50394 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '到' (word-14)
📊 Processing hover-enter for word '到' at position 14
INFO:     127.0.0.1:50394 - "POST /word-interaction HTTP/1.1" 200 OK
============================================================
🎯 TTS GENERATION REQUEST STARTED
============================================================
📝 Form data received:
   Text: '就像心里起的小波浪，是你突然想到的念头'
   Engine: edge
   Voice: zh-CN-XiaoxiaoNeural
   Speed: 1
🎤 Final parameters: engine=edge, voice=zh-CN-XiaoxiaoNeural, speed=1×

🔧 _generate_tts_response called:
   Text: '就像心里起的小波浪，是你突然想到的念头'
   Engine: edge
   Voice: zh-CN-XiaoxiaoNeural
   Speed: 1.0
🏭 Creating TTS engine instance for: edge
✅ Engine created: Edge TTS
🚀 Starting TTS generation with Edge TTS
✅ TTS generation completed!
   Audio size: 25200 bytes
   Word timings: 13 entries
INFO:     127.0.0.1:50394 - "POST /generate-custom-tts HTTP/1.1" 200 OK
INFO:watchfiles.main:2 changes detected
🎯 Word interaction received: hover-enter on '起' (word-3)
📊 Processing hover-enter for word '起' at position 3
INFO:     127.0.0.1:50394 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '心里' (word-2)
📊 Processing hover-enter for word '心里' at position 2
INFO:     127.0.0.1:50394 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '的' (word-4)
📊 Processing hover-enter for word '的' at position 4
INFO:     127.0.0.1:50394 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:watchfiles.main:1 change detected
🎯 Word interaction received: hover-enter on '小' (word-5)
📊 Processing hover-enter for word '小' at position 5
INFO:     127.0.0.1:50394 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:watchfiles.main:1 change detected
🎯 Word interaction received: hover-enter on '起' (word-3)
📊 Processing hover-enter for word '起' at position 3
INFO:     127.0.0.1:50394 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '心里' (word-2)
📊 Processing hover-enter for word '心里' at position 2
INFO:     127.0.0.1:50394 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '的' (word-11)
📊 Processing hover-enter for word '的' at position 11
INFO:     127.0.0.1:50394 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '想到' (word-10)
📊 Processing hover-enter for word '想到' at position 10
INFO:     127.0.0.1:50394 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '想到' (word-10)
📊 Processing hover-enter for word '想到' at position 10
INFO:     127.0.0.1:50394 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:     127.0.0.1:50394 - "GET /load-session/20250618_210300 HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '打击' (word-10)
📊 Processing hover-enter for word '打击' at position 10
INFO:     127.0.0.1:50394 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '农' (word-20)
📊 Processing hover-enter for word '农' at position 20
INFO:     127.0.0.1:50394 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '抑' (word-21)
📊 Processing hover-enter for word '抑' at position 21
INFO:     127.0.0.1:50394 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '商' (word-22)
📊 Processing hover-enter for word '商' at position 22
INFO:     127.0.0.1:50394 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '威胁' (word-30)
📊 Processing hover-enter for word '威胁' at position 30
INFO:     127.0.0.1:50394 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '到' (word-31)
📊 Processing hover-enter for word '到' at position 31
INFO:     127.0.0.1:50394 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '成为' (word-42)
📊 Processing hover-enter for word '成为' at position 42
INFO:     127.0.0.1:50394 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '商' (word-50)
📊 Processing hover-enter for word '商' at position 50
INFO:     127.0.0.1:50394 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '的' (word-58)
📊 Processing hover-enter for word '的' at position 58
INFO:     127.0.0.1:50394 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:watchfiles.main:1 change detected
============================================================
🎯 TTS GENERATION REQUEST STARTED
============================================================
📝 Form data received:
   Text: '可仅仅控制人的行动还不够，还必须打击经济上的自由。历代王朝普遍奉行“重农抑商”的[[政策]]，以确保...'
   Engine: edge
   Voice: zh-CN-XiaoxiaoNeural
   Speed: 1
🧹 Text cleaned: '可仅仅控制人的行动还不够，还必须打击经济上的自由。历代王朝普遍奉行“重农抑商”的[[政策]]，以确保经济活动不会[[威胁]]到其统治基础。农业被视为国家根基，商业则成为边缘，甚至被[[刻意]]打压与歧视。商人在社会中往往形象低微，官府对他们的生活、服饰、交往均有所限制。这样的[[政策]]表面上保护农民，实质却是阻断了财富从平民阶层向上[[流动]]的通路。商业活动天然促进人际网络的横向[[扩展]]，[[增强]]社会联系和多样化发展，这对[[集权]]专制来说是巨大的[[威胁]]，因为它[[挑战]]了绝对依附制度的一孔独大。中国历史上的关山海[[垄断]]、官营盐铁[[政策]]便是[[典型]]例子，政府通过[[垄断]]重要商品和服务，不仅[[掠夺]]了百姓的财富，也有效阻止了财富的私有[[积累]]和独立力量的[[形成]]。你是否曾想，为何商人难以在中国实现政治[[突破]]？为何每当商人[[积累]]了一定的财富，结果往往是被官府高压？这正是因为财富无法脱离权力的控制，财富没有[[政治]]护盾，终将被[[掠夺]]。' -> '可仅仅控制人的行动还不够，还必须打击经济上的自由。历代王朝普遍奉行“重农抑商”的政策，以确保经济活动不会威胁到其统治基础。农业被视为国家根基，商业则成为边缘，甚至被刻意打压与歧视。商人在社会中往往形象低微，官府对他们的生活、服饰、交往均有所限制。这样的政策表面上保护农民，实质却是阻断了财富从平民阶层向上流动的通路。商业活动天然促进人际网络的横向扩展，增强社会联系和多样化发展，这对集权专制来说是巨大的威胁，因为它挑战了绝对依附制度的一孔独大。中国历史上的关山海垄断、官营盐铁政策便是典型例子，政府通过垄断重要商品和服务，不仅掠夺了百姓的财富，也有效阻止了财富的私有积累和独立力量的形成。你是否曾想，为何商人难以在中国实现政治突破？为何每当商人积累了一定的财富，结果往往是被官府高压？这正是因为财富无法脱离权力的控制，财富没有政治护盾，终将被掠夺。'
🎤 Final parameters: engine=edge, voice=zh-CN-XiaoxiaoNeural, speed=1×

🔧 _generate_tts_response called:
   Text: '可仅仅控制人的行动还不够，还必须打击经济上的自由。历代王朝普遍奉行“重农抑商”的政策，以确保经济活动不会威胁到其统治基础。农业被视为国家根基，商业则成为边缘，甚至被刻意打压与歧视。商人在社会中往往形象低微，官府对他们的生活、服饰、交往均有所限制。这样的政策表面上保护农民，实质却是阻断了财富从平民阶层向上流动的通路。商业活动天然促进人际网络的横向扩展，增强社会联系和多样化发展，这对集权专制来说是巨大的威胁，因为它挑战了绝对依附制度的一孔独大。中国历史上的关山海垄断、官营盐铁政策便是典型例子，政府通过垄断重要商品和服务，不仅掠夺了百姓的财富，也有效阻止了财富的私有积累和独立力量的形成。你是否曾想，为何商人难以在中国实现政治突破？为何每当商人积累了一定的财富，结果往往是被官府高压？这正是因为财富无法脱离权力的控制，财富没有政治护盾，终将被掠夺。'
   Engine: edge
   Voice: zh-CN-XiaoxiaoNeural
   Speed: 1.0
🏭 Creating TTS engine instance for: edge
✅ Engine created: Edge TTS
🚀 Starting TTS generation with Edge TTS
🎯 Word interaction received: hover-enter on '则' (word-41)
📊 Processing hover-enter for word '则' at position 41
INFO:     127.0.0.1:50400 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '商业' (word-40)
📊 Processing hover-enter for word '商业' at position 40
INFO:     127.0.0.1:50400 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '根基' (word-39)
📊 Processing hover-enter for word '根基' at position 39
INFO:     127.0.0.1:50400 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '威胁' (word-30)
📊 Processing hover-enter for word '威胁' at position 30
INFO:     127.0.0.1:50400 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '不会' (word-29)
📊 Processing hover-enter for word '不会' at position 29
INFO:     127.0.0.1:50400 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '不会' (word-29)
📊 Processing hover-enter for word '不会' at position 29
INFO:     127.0.0.1:50400 - "POST /word-interaction HTTP/1.1" 200 OK
✅ TTS generation completed!
   Audio size: 480384 bytes
   Word timings: 201 entries
INFO:     127.0.0.1:50394 - "POST /generate-custom-tts HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '抑' (word-21)
📊 Processing hover-enter for word '抑' at position 21
INFO:     127.0.0.1:50394 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '上' (word-12)
📊 Processing hover-enter for word '上' at position 12
INFO:     127.0.0.1:50394 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '仅仅' (word-1)
📊 Processing hover-enter for word '仅仅' at position 1
INFO:     127.0.0.1:50394 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '可' (word-0)
📊 Processing hover-enter for word '可' at position 0
INFO:     127.0.0.1:50394 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:watchfiles.main:2 changes detected
🎯 Word interaction received: hover-enter on '的' (word-4)
📊 Processing hover-enter for word '的' at position 4
INFO:     127.0.0.1:50394 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '自由' (word-14)
📊 Processing hover-enter for word '自由' at position 14
INFO:     127.0.0.1:50394 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '自由' (word-14)
📊 Processing hover-enter for word '自由' at position 14
INFO:     127.0.0.1:50394 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: left-click on '自由' (word-14)
📊 Processing left-click for word '自由' at position 14
INFO:     127.0.0.1:50394 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:watchfiles.main:1 change detected
🎯 Word interaction received: hover-enter on '商' (word-22)
📊 Processing hover-enter for word '商' at position 22
INFO:     127.0.0.1:50394 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '抑' (word-21)
📊 Processing hover-enter for word '抑' at position 21
INFO:     127.0.0.1:50394 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '农' (word-20)
📊 Processing hover-enter for word '农' at position 20
INFO:     127.0.0.1:50394 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '重' (word-19)
📊 Processing hover-enter for word '重' at position 19
INFO:     127.0.0.1:50394 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '农' (word-20)
📊 Processing hover-enter for word '农' at position 20
INFO:     127.0.0.1:50394 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '抑' (word-21)
📊 Processing hover-enter for word '抑' at position 21
INFO:     127.0.0.1:50394 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '的' (word-13)
📊 Processing hover-enter for word '的' at position 13
INFO:     127.0.0.1:50394 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '自由' (word-14)
📊 Processing hover-enter for word '自由' at position 14
INFO:     127.0.0.1:50394 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: left-click on '自由' (word-14)
📊 Processing left-click for word '自由' at position 14
INFO:     127.0.0.1:50394 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '的' (word-23)
📊 Processing hover-enter for word '的' at position 23
INFO:     127.0.0.1:50394 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '商' (word-22)
📊 Processing hover-enter for word '商' at position 22
INFO:     127.0.0.1:50394 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '威胁' (word-30)
📊 Processing hover-enter for word '威胁' at position 30
INFO:     127.0.0.1:50394 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: left-click on '威胁' (word-30)
📊 Processing left-click for word '威胁' at position 30
INFO:     127.0.0.1:50394 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:     127.0.0.1:50394 - "POST /vocabulary-display HTTP/1.1" 200 OK
INFO:     127.0.0.1:50394 - "GET /static/css/themes.css?v=2 HTTP/1.1" 200 OK
INFO:     127.0.0.1:50416 - "GET /static/css/components.css?v=2 HTTP/1.1" 200 OK
INFO:watchfiles.main:1 change detected
🎯 Word interaction received: hover-enter on '到' (word-31)
📊 Processing hover-enter for word '到' at position 31
INFO:     127.0.0.1:50394 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: left-click on '到' (word-31)
📊 Processing left-click for word '到' at position 31
INFO:     127.0.0.1:50394 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '商' (word-22)
📊 Processing hover-enter for word '商' at position 22
INFO:     127.0.0.1:50394 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '上' (word-12)
📊 Processing hover-enter for word '上' at position 12
INFO:     127.0.0.1:50394 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '经济' (word-11)
📊 Processing hover-enter for word '经济' at position 11
INFO:     127.0.0.1:50394 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '可' (word-0)
📊 Processing hover-enter for word '可' at position 0
INFO:     127.0.0.1:50394 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '仅仅' (word-1)
📊 Processing hover-enter for word '仅仅' at position 1
INFO:     127.0.0.1:50394 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
🎯 Word interaction received: hover-enter on '还' (word-8)
📊 Processing hover-enter for word '还' at position 8
INFO:     127.0.0.1:46688 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '不够' (word-7)
📊 Processing hover-enter for word '不够' at position 7
INFO:     127.0.0.1:46688 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '普遍' (word-17)
📊 Processing hover-enter for word '普遍' at position 17
INFO:     127.0.0.1:46688 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '王朝' (word-16)
📊 Processing hover-enter for word '王朝' at position 16
INFO:     127.0.0.1:46688 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '历代' (word-15)
📊 Processing hover-enter for word '历代' at position 15
INFO:     127.0.0.1:46688 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '商' (word-22)
📊 Processing hover-enter for word '商' at position 22
INFO:     127.0.0.1:46688 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '上' (word-12)
📊 Processing hover-enter for word '上' at position 12
INFO:     127.0.0.1:46688 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '经济' (word-11)
📊 Processing hover-enter for word '经济' at position 11
INFO:     127.0.0.1:46688 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '打击' (word-10)
📊 Processing hover-enter for word '打击' at position 10
INFO:     127.0.0.1:46688 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:     127.0.0.1:46688 - "GET /load-session/20250618_210300 HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '经济' (word-11)
📊 Processing hover-enter for word '经济' at position 11
INFO:     127.0.0.1:46688 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '农' (word-20)
📊 Processing hover-enter for word '农' at position 20
INFO:     127.0.0.1:46688 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '抑' (word-21)
📊 Processing hover-enter for word '抑' at position 21
INFO:     127.0.0.1:46688 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '威胁' (word-30)
📊 Processing hover-enter for word '威胁' at position 30
INFO:     127.0.0.1:46688 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '根基' (word-39)
📊 Processing hover-enter for word '根基' at position 39
INFO:     127.0.0.1:46688 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '商业' (word-40)
📊 Processing hover-enter for word '商业' at position 40
INFO:     127.0.0.1:46688 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '与' (word-48)
📊 Processing hover-enter for word '与' at position 48
INFO:     127.0.0.1:46688 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '则' (word-41)
📊 Processing hover-enter for word '则' at position 41
INFO:     127.0.0.1:46688 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '成为' (word-42)
📊 Processing hover-enter for word '成为' at position 42
INFO:     127.0.0.1:46688 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '歧视' (word-49)
📊 Processing hover-enter for word '歧视' at position 49
INFO:     127.0.0.1:46688 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:watchfiles.main:1 change detected
🎯 Word interaction received: hover-enter on '限制' (word-64)
📊 Processing hover-enter for word '限制' at position 64
INFO:     127.0.0.1:46688 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '有所' (word-63)
📊 Processing hover-enter for word '有所' at position 63
INFO:     127.0.0.1:46688 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '的' (word-66)
📊 Processing hover-enter for word '的' at position 66
INFO:     127.0.0.1:46688 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
🎯 Word interaction received: hover-enter on '威胁' (word-30)
📊 Processing hover-enter for word '威胁' at position 30
INFO:     127.0.0.1:46692 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '商' (word-22)
📊 Processing hover-enter for word '商' at position 22
INFO:     127.0.0.1:46692 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '威胁' (word-30)
📊 Processing hover-enter for word '威胁' at position 30
INFO:     127.0.0.1:46692 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '商业' (word-40)
📊 Processing hover-enter for word '商业' at position 40
INFO:     127.0.0.1:46692 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '与' (word-48)
📊 Processing hover-enter for word '与' at position 48
INFO:     127.0.0.1:46692 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '成为' (word-42)
📊 Processing hover-enter for word '成为' at position 42
INFO:     127.0.0.1:46692 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '其' (word-32)
📊 Processing hover-enter for word '其' at position 32
INFO:     127.0.0.1:46692 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '政策' (word-24)
📊 Processing hover-enter for word '政策' at position 24
INFO:     127.0.0.1:46692 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '自由' (word-14)
📊 Processing hover-enter for word '自由' at position 14
INFO:     127.0.0.1:46692 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '的' (word-13)
📊 Processing hover-enter for word '的' at position 13
INFO:     127.0.0.1:46692 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '控制' (word-2)
📊 Processing hover-enter for word '控制' at position 2
INFO:     127.0.0.1:46692 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '仅仅' (word-1)
📊 Processing hover-enter for word '仅仅' at position 1
INFO:     127.0.0.1:46692 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
============================================================
🎯 TTS GENERATION REQUEST STARTED
============================================================
📝 Form data received:
   Text: '我们不得不问，理想的社会是怎样的？难道发展好经济，就可以忽视自由的价值？还是说，在不同文化和发展阶段...'
   Engine: edge
   Voice: zh-CN-YunxiNeural
   Speed: 1
🎤 Final parameters: engine=edge, voice=zh-CN-YunxiNeural, speed=1×

🔧 _generate_tts_response called:
   Text: '我们不得不问，理想的社会是怎样的？难道发展好经济，就可以忽视自由的价值？还是说，在不同文化和发展阶段，自由的表现形式必须有所差异？这其实是每个发展中国家都要面对的难题'
   Engine: edge
   Voice: zh-CN-YunxiNeural
   Speed: 1.0
🏭 Creating TTS engine instance for: edge
✅ Engine created: Edge TTS
🚀 Starting TTS generation with Edge TTS
✅ TTS generation completed!
   Audio size: 101088 bytes
   Word timings: 44 entries
INFO:     127.0.0.1:46696 - "POST /generate-custom-tts HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '每个' (word-37)
📊 Processing hover-enter for word '每个' at position 37
INFO:     127.0.0.1:46696 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '是' (word-36)
📊 Processing hover-enter for word '是' at position 36
INFO:     127.0.0.1:46696 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '阶段' (word-26)
📊 Processing hover-enter for word '阶段' at position 26
INFO:     127.0.0.1:46696 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '阶段' (word-26)
📊 Processing hover-enter for word '阶段' at position 26
INFO:     127.0.0.1:46696 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '阶段' (word-26)
📊 Processing hover-enter for word '阶段' at position 26
INFO:     127.0.0.1:46696 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '发展' (word-25)
📊 Processing hover-enter for word '发展' at position 25
INFO:     127.0.0.1:46696 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '忽视' (word-15)
📊 Processing hover-enter for word '忽视' at position 15
INFO:     127.0.0.1:46696 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '可以' (word-14)
📊 Processing hover-enter for word '可以' at position 14
INFO:     127.0.0.1:46696 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '的' (word-4)
📊 Processing hover-enter for word '的' at position 4
INFO:     127.0.0.1:46696 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '理想' (word-3)
📊 Processing hover-enter for word '理想' at position 3
INFO:     127.0.0.1:46696 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '的' (word-4)
📊 Processing hover-enter for word '的' at position 4
INFO:     127.0.0.1:46696 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '可以' (word-14)
📊 Processing hover-enter for word '可以' at position 14
INFO:     127.0.0.1:46696 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '和' (word-24)
📊 Processing hover-enter for word '和' at position 24
INFO:     127.0.0.1:46696 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '这' (word-34)
📊 Processing hover-enter for word '这' at position 34
INFO:     127.0.0.1:46696 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:watchfiles.main:2 changes detected
🎯 Word interaction received: hover-enter on '其实' (word-35)
📊 Processing hover-enter for word '其实' at position 35
INFO:     127.0.0.1:46696 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '发展' (word-25)
📊 Processing hover-enter for word '发展' at position 25
INFO:     127.0.0.1:46696 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '忽视' (word-15)
📊 Processing hover-enter for word '忽视' at position 15
INFO:     127.0.0.1:46696 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '的' (word-4)
📊 Processing hover-enter for word '的' at position 4
INFO:     127.0.0.1:46696 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '的' (word-4)
📊 Processing hover-enter for word '的' at position 4
INFO:     127.0.0.1:46696 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '可以' (word-14)
📊 Processing hover-enter for word '可以' at position 14
INFO:     127.0.0.1:46696 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '发展' (word-25)
📊 Processing hover-enter for word '发展' at position 25
INFO:     127.0.0.1:46696 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '这' (word-34)
📊 Processing hover-enter for word '这' at position 34
INFO:     127.0.0.1:46696 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
🎯 Word interaction received: hover-enter on '难题' (word-43)
📊 Processing hover-enter for word '难题' at position 43
INFO:     127.0.0.1:36356 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '的' (word-42)
📊 Processing hover-enter for word '的' at position 42
INFO:     127.0.0.1:36368 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '面对' (word-41)
📊 Processing hover-enter for word '面对' at position 41
INFO:     127.0.0.1:36356 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '必须' (word-31)
📊 Processing hover-enter for word '必须' at position 31
INFO:     127.0.0.1:36368 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '在' (word-21)
📊 Processing hover-enter for word '在' at position 21
INFO:     127.0.0.1:36356 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '好' (word-11)
📊 Processing hover-enter for word '好' at position 11
INFO:     127.0.0.1:36368 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '不得不' (word-1)
📊 Processing hover-enter for word '不得不' at position 1
INFO:     127.0.0.1:36356 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
🎯 Word interaction received: hover-enter on '的' (word-8)
📊 Processing hover-enter for word '的' at position 8
INFO:     127.0.0.1:36374 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '价值' (word-18)
📊 Processing hover-enter for word '价值' at position 18
INFO:     127.0.0.1:36374 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '的' (word-17)
📊 Processing hover-enter for word '的' at position 17
INFO:     127.0.0.1:36374 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '自由' (word-27)
📊 Processing hover-enter for word '自由' at position 27
INFO:     127.0.0.1:36374 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '每个' (word-37)
📊 Processing hover-enter for word '每个' at position 37
INFO:     127.0.0.1:36374 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '难题' (word-43)
📊 Processing hover-enter for word '难题' at position 43
INFO:     127.0.0.1:36374 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '的' (word-42)
📊 Processing hover-enter for word '的' at position 42
INFO:     127.0.0.1:36374 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '面对' (word-41)
📊 Processing hover-enter for word '面对' at position 41
INFO:     127.0.0.1:36374 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '要' (word-40)
📊 Processing hover-enter for word '要' at position 40
INFO:     127.0.0.1:36374 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '必须' (word-31)
📊 Processing hover-enter for word '必须' at position 31
INFO:     127.0.0.1:36374 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '形式' (word-30)
📊 Processing hover-enter for word '形式' at position 30
INFO:     127.0.0.1:36374 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '说' (word-20)
📊 Processing hover-enter for word '说' at position 20
INFO:     127.0.0.1:36374 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:watchfiles.main:1 change detected
🎯 Word interaction received: hover-enter on '发展' (word-10)
📊 Processing hover-enter for word '发展' at position 10
INFO:     127.0.0.1:36374 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '好' (word-11)
📊 Processing hover-enter for word '好' at position 11
INFO:     127.0.0.1:36374 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '在' (word-21)
📊 Processing hover-enter for word '在' at position 21
INFO:     127.0.0.1:36374 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '不同' (word-22)
📊 Processing hover-enter for word '不同' at position 22
INFO:     127.0.0.1:36374 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '有所' (word-32)
📊 Processing hover-enter for word '有所' at position 32
INFO:     127.0.0.1:36374 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '的' (word-42)
📊 Processing hover-enter for word '的' at position 42
INFO:     127.0.0.1:36374 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:minimax_tts:🔑 Loading MiniMax credentials...
INFO:minimax_tts:   API Key: ✅ Set
INFO:minimax_tts:   Group ID: ✅ Set
INFO:minimax_tts:   Custom Voice: moss_audio_4dc076ac-da6d-11ef-bd8d-f27a76fcd434
INFO:minimax_tts:   Model: speech-02-turbo
INFO:minimax_tts:🎯 Custom voice updated: moss_audio_4dc076ac-da6d-11ef-bd8d-f27a76fcd434
INFO:minimax_tts:🔧 MiniMax configuration status: ✅ Ready
INFO:minimax_tts:🎯 MiniMax TTS generation started
INFO:minimax_tts:   Text: '我们不得不问，理想的社会是怎样的？难道发展好经济，就可以忽视自由的价值？还是说，在不同文化和发展阶段...'
INFO:minimax_tts:   Voice: moss_audio_4dc076ac-da6d-11ef-bd8d-f27a76fcd434
INFO:minimax_tts:   Speed: 1.0
INFO:minimax_tts:🔑 Loading MiniMax credentials...
INFO:minimax_tts:   API Key: ✅ Set
INFO:minimax_tts:   Group ID: ✅ Set
INFO:minimax_tts:   Custom Voice: moss_audio_4dc076ac-da6d-11ef-bd8d-f27a76fcd434
INFO:minimax_tts:   Model: speech-02-turbo
INFO:minimax_tts:🎯 Custom voice updated: moss_audio_4dc076ac-da6d-11ef-bd8d-f27a76fcd434
INFO:minimax_tts:🔧 MiniMax configuration status: ✅ Ready
INFO:minimax_tts:   Cleaned text: '我们不得不问，理想的社会是怎样的？难道发展好经济，就可以忽视自由的价值？还是说，在不同文化和发展阶段，自由的表现形式必须有所差异？这其实是每个发展中国家都要面对的难题'
INFO:minimax_tts:🔄 Calling MiniMax API...
INFO:minimax_tts:🎯 Using custom voice: moss_audio_4dc076ac-da6d-11ef-bd8d-f27a76fcd434
INFO:minimax_tts:📞 API Request Details:
INFO:minimax_tts:   URL: https://api.minimax.io/v1/t2a_v2?GroupId=1881950105762796202
INFO:minimax_tts:   Model: speech-02-turbo
INFO:minimax_tts:   Voice: moss_audio_4dc076ac-da6d-11ef-bd8d-f27a76fcd434 (requested: moss_audio_4dc076ac-da6d-11ef-bd8d-f27a76fcd434)
INFO:minimax_tts:   Speed: 1.0
INFO:minimax_tts:   Text length: 83 characters
WARNING:minimax_tts:⚠️ Model speech-02-turbo does not support subtitles - using duration estimation
INFO:minimax_tts:🔄 Sending request to MiniMax API...
INFO:watchfiles.main:1 change detected
INFO:minimax_tts:📊 Response received in 3.69s
INFO:minimax_tts:   Status code: 200
INFO:minimax_tts:   Response size: 542397 bytes
DEBUG:minimax_tts:📋 API Response structure: ['data', 'extra_info', 'trace_id', 'base_resp']
INFO:minimax_tts:   API Status: 0 - success
INFO:minimax_tts:✅ Audio extracted: 271025 bytes
WARNING:minimax_tts:⚠️ No subtitle file provided by API
INFO:minimax_tts:✅ Audio generated successfully (271025 bytes)
INFO:minimax_tts:   Sentence timings: 0 segments
INFO:minimax_tts:🔄 Extracting word-level timings...
INFO:minimax_tts:✅ Generated 76 word timings
============================================================
🎯 TTS GENERATION REQUEST STARTED
============================================================
📝 Form data received:
   Text: '我们不得不问，理想的社会是怎样的？难道发展好经济，就可以忽视自由的价值？还是说，在不同文化和发展阶段...'
   Engine: hailuo
   Voice: moss_audio_4dc076ac-da6d-11ef-bd8d-f27a76fcd434
   Speed: 1
🎤 Final parameters: engine=hailuo, voice=moss_audio_4dc076ac-da6d-11ef-bd8d-f27a76fcd434, speed=1×

🔧 _generate_tts_response called:
   Text: '我们不得不问，理想的社会是怎样的？难道发展好经济，就可以忽视自由的价值？还是说，在不同文化和发展阶段，自由的表现形式必须有所差异？这其实是每个发展中国家都要面对的难题'
   Engine: hailuo
   Voice: moss_audio_4dc076ac-da6d-11ef-bd8d-f27a76fcd434
   Speed: 1.0
🏭 Creating TTS engine instance for: hailuo
✅ Engine created: MiniMax Hailuo
🔧 Engine configuration status: True
🚀 Starting TTS generation with MiniMax Hailuo
⚠️ MFA not available, falling back to duration estimation
✅ TTS generation completed!
   Audio size: 271025 bytes
   Word timings: 76 entries
INFO:     127.0.0.1:36374 - "POST /generate-custom-tts HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '难题' (word-43)
📊 Processing hover-enter for word '难题' at position 43
INFO:     127.0.0.1:36388 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '自' (word-45)
📊 Processing hover-enter for word '自' at position 45
INFO:     127.0.0.1:36388 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '说' (word-34)
📊 Processing hover-enter for word '说' at position 34
INFO:     127.0.0.1:36388 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '段' (word-44)
📊 Processing hover-enter for word '段' at position 44
INFO:     127.0.0.1:36388 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '阶' (word-43)
📊 Processing hover-enter for word '阶' at position 43
INFO:     127.0.0.1:36388 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '段' (word-44)
📊 Processing hover-enter for word '段' at position 44
INFO:     127.0.0.1:36388 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '说' (word-34)
📊 Processing hover-enter for word '说' at position 34
INFO:     127.0.0.1:36388 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '说' (word-34)
📊 Processing hover-enter for word '说' at position 34
INFO:     127.0.0.1:36388 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '以' (word-24)
📊 Processing hover-enter for word '以' at position 24
INFO:     127.0.0.1:36388 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '样' (word-13)
📊 Processing hover-enter for word '样' at position 13
INFO:     127.0.0.1:36388 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '不' (word-2)
📊 Processing hover-enter for word '不' at position 2
INFO:     127.0.0.1:36388 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:watchfiles.main:2 changes detected
🎯 Word interaction received: hover-enter on '们' (word-1)
📊 Processing hover-enter for word '们' at position 1
INFO:     127.0.0.1:36388 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '其' (word-59)
📊 Processing hover-enter for word '其' at position 59
INFO:     127.0.0.1:36388 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '的' (word-73)
📊 Processing hover-enter for word '的' at position 73
INFO:     127.0.0.1:36388 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:3 changes detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
🎯 Word interaction received: hover-enter on '化' (word-39)
📊 Processing hover-enter for word '化' at position 39
INFO:     127.0.0.1:55424 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '表' (word-48)
📊 Processing hover-enter for word '表' at position 48
INFO:     127.0.0.1:55424 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '现' (word-49)
📊 Processing hover-enter for word '现' at position 49
INFO:     127.0.0.1:55434 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '这' (word-58)
📊 Processing hover-enter for word '这' at position 58
INFO:     127.0.0.1:55424 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:2 changes detected
WARNING:  WatchFiles detected changes in 'tts/minimax_tts_engine.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [10336]
INFO:     Started server process [10440]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:2 changes detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:95 changes detected
WARNING:  WatchFiles detected changes in 'venv/lib64/python3.12/site-packages/jieba/finalseg/prob_start.py', 'venv/lib64/python3.12/site-packages/jieba/finalseg/__init__.py', 'venv/lib64/python3.12/site-packages/jieba/analyse/textrank.py', 'venv/lib64/python3.12/site-packages/jieba/lac_small/nets.py', 'venv/lib64/python3.12/site-packages/jieba/posseg/__init__.py', 'venv/lib64/python3.12/site-packages/jieba/finalseg/prob_trans.py', 'venv/lib64/python3.12/site-packages/jieba/analyse/analyzer.py', 'venv/lib64/python3.12/site-packages/jieba/lac_small/utils.py', 'venv/lib64/python3.12/site-packages/jieba/lac_small/creator.py', 'venv/lib64/python3.12/site-packages/jieba/lac_small/reader_small.py', 'venv/lib64/python3.12/site-packages/jieba/posseg/prob_trans.py', 'venv/lib64/python3.12/site-packages/jieba/analyse/tfidf.py', 'venv/lib64/python3.12/site-packages/jieba/__main__.py', 'venv/lib64/python3.12/site-packages/jieba/posseg/char_state_tab.py', 'venv/lib64/python3.12/site-packages/jieba/_compat.py', 'venv/lib64/python3.12/site-packages/jieba/lac_small/predict.py', 'venv/lib64/python3.12/site-packages/jieba/analyse/__init__.py', 'venv/lib64/python3.12/site-packages/jieba/__init__.py', 'venv/lib64/python3.12/site-packages/jieba/finalseg/prob_emit.py', 'venv/lib64/python3.12/site-packages/jieba/posseg/prob_emit.py', 'venv/lib64/python3.12/site-packages/jieba/posseg/prob_start.py', 'venv/lib64/python3.12/site-packages/jieba/lac_small/__init__.py', 'venv/lib64/python3.12/site-packages/jieba/posseg/viterbi.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [10440]
INFO:     Started server process [10519]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:watchfiles.main:2 changes detected
INFO:watchfiles.main:95 changes detected
WARNING:  WatchFiles detected changes in 'venv/lib/python3.12/site-packages/jieba/lac_small/predict.py', 'venv/lib/python3.12/site-packages/jieba/analyse/tfidf.py', 'venv/lib/python3.12/site-packages/jieba/__init__.py', 'venv/lib/python3.12/site-packages/jieba/lac_small/creator.py', 'venv/lib/python3.12/site-packages/jieba/__main__.py', 'venv/lib/python3.12/site-packages/jieba/posseg/char_state_tab.py', 'venv/lib/python3.12/site-packages/jieba/finalseg/__init__.py', 'venv/lib/python3.12/site-packages/jieba/posseg/prob_trans.py', 'venv/lib/python3.12/site-packages/jieba/analyse/textrank.py', 'venv/lib/python3.12/site-packages/jieba/analyse/analyzer.py', 'venv/lib/python3.12/site-packages/jieba/lac_small/reader_small.py', 'venv/lib/python3.12/site-packages/jieba/lac_small/utils.py', 'venv/lib/python3.12/site-packages/jieba/finalseg/prob_trans.py', 'venv/lib/python3.12/site-packages/jieba/finalseg/prob_emit.py', 'venv/lib/python3.12/site-packages/jieba/lac_small/nets.py', 'venv/lib/python3.12/site-packages/jieba/posseg/viterbi.py', 'venv/lib/python3.12/site-packages/jieba/analyse/__init__.py', 'venv/lib/python3.12/site-packages/jieba/posseg/prob_start.py', 'venv/lib/python3.12/site-packages/jieba/finalseg/prob_start.py', 'venv/lib/python3.12/site-packages/jieba/posseg/prob_emit.py', 'venv/lib/python3.12/site-packages/jieba/_compat.py', 'venv/lib/python3.12/site-packages/jieba/lac_small/__init__.py', 'venv/lib/python3.12/site-packages/jieba/posseg/__init__.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [10519]
INFO:     Started server process [10521]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:2 changes detected
WARNING:  WatchFiles detected changes in 'tts/minimax_tts_engine.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [10521]
INFO:     Started server process [10523]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:watchfiles.main:3 changes detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:2 changes detected
WARNING:  WatchFiles detected changes in 'tts/minimax_tts_engine.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [10523]
INFO:     Started server process [10525]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:watchfiles.main:3 changes detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:2 changes detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
🎯 Word interaction received: hover-enter on '的' (word-73)
📊 Processing hover-enter for word '的' at position 73
INFO:     127.0.0.1:46050 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '有' (word-54)
📊 Processing hover-enter for word '有' at position 54
INFO:     127.0.0.1:46050 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '段' (word-44)
📊 Processing hover-enter for word '段' at position 44
INFO:     127.0.0.1:46050 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '说' (word-34)
📊 Processing hover-enter for word '说' at position 34
INFO:     127.0.0.1:46050 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '段' (word-44)
📊 Processing hover-enter for word '段' at position 44
INFO:     127.0.0.1:46050 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '所' (word-55)
📊 Processing hover-enter for word '所' at position 55
INFO:     127.0.0.1:46050 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '差' (word-56)
📊 Processing hover-enter for word '差' at position 56
INFO:     127.0.0.1:46050 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '其' (word-59)
📊 Processing hover-enter for word '其' at position 59
INFO:     127.0.0.1:46050 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '现' (word-49)
📊 Processing hover-enter for word '现' at position 49
INFO:     127.0.0.1:46050 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '表' (word-48)
📊 Processing hover-enter for word '表' at position 48
INFO:     127.0.0.1:46050 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '文' (word-38)
📊 Processing hover-enter for word '文' at position 38
INFO:     127.0.0.1:46050 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '自' (word-27)
📊 Processing hover-enter for word '自' at position 27
INFO:     127.0.0.1:46050 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '视' (word-26)
📊 Processing hover-enter for word '视' at position 26
INFO:     127.0.0.1:46050 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '道' (word-16)
📊 Processing hover-enter for word '道' at position 16
INFO:     127.0.0.1:46050 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '难' (word-15)
📊 Processing hover-enter for word '难' at position 15
INFO:     127.0.0.1:46050 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '的' (word-14)
📊 Processing hover-enter for word '的' at position 14
INFO:     127.0.0.1:46050 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '得' (word-3)
📊 Processing hover-enter for word '得' at position 3
INFO:     127.0.0.1:46050 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '不' (word-2)
📊 Processing hover-enter for word '不' at position 2
INFO:     127.0.0.1:46050 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '不' (word-4)
📊 Processing hover-enter for word '不' at position 4
INFO:     127.0.0.1:46050 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '难' (word-15)
📊 Processing hover-enter for word '难' at position 15
INFO:     127.0.0.1:46050 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:watchfiles.main:1 change detected
🎯 Word interaction received: hover-enter on '以' (word-24)
📊 Processing hover-enter for word '以' at position 24
INFO:     127.0.0.1:46060 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '的' (word-14)
📊 Processing hover-enter for word '的' at position 14
INFO:     127.0.0.1:46060 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '不' (word-4)
📊 Processing hover-enter for word '不' at position 4
INFO:     127.0.0.1:46060 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:     127.0.0.1:50262 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:50262 - "GET /static/css/themes.css?v=2 HTTP/1.1" 200 OK
INFO:     127.0.0.1:50262 - "GET /static/css/components.css?v=2 HTTP/1.1" 200 OK
INFO:     127.0.0.1:50262 - "GET /static/js/settings-manager.js HTTP/1.1" 200 OK
INFO:minimax_tts:🔑 Loading MiniMax credentials...
INFO:minimax_tts:   API Key: ✅ Set
INFO:minimax_tts:   Group ID: ✅ Set
INFO:minimax_tts:   Custom Voice: Not set
INFO:minimax_tts:   Model: speech-02-turbo
INFO:minimax_tts:🔑 Loading MiniMax credentials...
INFO:minimax_tts:   API Key: ✅ Set
INFO:minimax_tts:   Group ID: ✅ Set
INFO:minimax_tts:   Custom Voice: Not set
INFO:minimax_tts:   Model: speech-02-turbo
INFO:minimax_tts:🔧 MiniMax configuration status: ✅ Ready
INFO:     127.0.0.1:50262 - "GET /tts-engines-info HTTP/1.1" 200 OK
INFO:     127.0.0.1:50262 - "GET /credentials-status HTTP/1.1" 200 OK
INFO:watchfiles.main:1 change detected
INFO:minimax_tts:🔑 Loading MiniMax credentials...
INFO:minimax_tts:   API Key: ✅ Set
INFO:minimax_tts:   Group ID: ✅ Set
INFO:minimax_tts:   Custom Voice: Not set
INFO:minimax_tts:   Model: speech-02-turbo
INFO:minimax_tts:🔧 MiniMax configuration status: ✅ Ready
INFO:minimax_tts:🎯 MiniMax TTS generation started
INFO:minimax_tts:   Text: '就像心里起的小波浪，是你突然想到的念头'
INFO:minimax_tts:   Voice: male-qn-qingse
INFO:minimax_tts:   Speed: 1.0
INFO:minimax_tts:🔑 Loading MiniMax credentials...
INFO:minimax_tts:   API Key: ✅ Set
INFO:minimax_tts:   Group ID: ✅ Set
INFO:minimax_tts:   Custom Voice: Not set
INFO:minimax_tts:   Model: speech-02-turbo
INFO:minimax_tts:🔧 MiniMax configuration status: ✅ Ready
INFO:minimax_tts:   Cleaned text: '就像心里起的小波浪，是你突然想到的念头'
INFO:minimax_tts:🔄 Calling MiniMax API...
INFO:minimax_tts:📞 API Request Details:
INFO:minimax_tts:   URL: https://api.minimax.io/v1/t2a_v2?GroupId=1881950105762796202
INFO:minimax_tts:   Model: speech-02-turbo
INFO:minimax_tts:   Voice: male-qn-qingse (requested: male-qn-qingse)
INFO:minimax_tts:   Speed: 1.0
INFO:minimax_tts:   Text length: 19 characters
INFO:minimax_tts:🎯 Attempting to enable subtitles for sentence-level timing
INFO:minimax_tts:🔄 Sending request to MiniMax API...
INFO:watchfiles.main:1 change detected
INFO:minimax_tts:📊 Response received in 1.50s
INFO:minimax_tts:   Status code: 200
INFO:minimax_tts:   Response size: 67 bytes
DEBUG:minimax_tts:📋 API Response structure: ['base_resp']
INFO:minimax_tts:   API Status: 1004 - token is unusable
ERROR:minimax_tts:❌ MiniMax API error: token is unusable
ERROR:minimax_tts:❌ TTS generation failed: MiniMax API error: token is unusable
ERROR:minimax_tts:❌ MiniMax TTS generation failed: MiniMax TTS generation failed: MiniMax API error: token is unusable
Traceback (most recent call last):
  File "/mnt/d/FastTTS/tts/minimax_tts_engine.py", line 247, in _call_minimax_api
    raise RuntimeError(f"MiniMax API error: {error_msg}")
RuntimeError: MiniMax API error: token is unusable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/mnt/d/FastTTS/main.py", line 643, in _generate_tts_response
    audio_data, word_timings = await tts_engine.generate_speech(text, voice, speed)
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/FastTTS/tts/minimax_tts_engine.py", line 152, in generate_speech
    audio_bytes, sentence_timings = await self._call_minimax_api(cleaned_text, voice, speed)
                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/FastTTS/tts/minimax_tts_engine.py", line 277, in _call_minimax_api
    raise RuntimeError(f"MiniMax TTS generation failed: {str(e)}")
RuntimeError: MiniMax TTS generation failed: MiniMax API error: token is unusable
============================================================
🎯 TTS GENERATION REQUEST STARTED
============================================================
📝 Form data received:
   Text: '就像心里起的小波浪，是你突然想到的念头'
   Engine: hailuo
   Voice: male-qn-qingse
   Speed: 1
🎤 Final parameters: engine=hailuo, voice=male-qn-qingse, speed=1×

🔧 _generate_tts_response called:
   Text: '就像心里起的小波浪，是你突然想到的念头'
   Engine: hailuo
   Voice: male-qn-qingse
   Speed: 1.0
🏭 Creating TTS engine instance for: hailuo
✅ Engine created: MiniMax Hailuo
🔧 Engine configuration status: True
🚀 Starting TTS generation with MiniMax Hailuo
============================================================
❌ TTS GENERATION FAILED
============================================================
Error type: RuntimeError
Error message: MiniMax TTS generation failed: MiniMax API error: token is unusable
Engine: hailuo
Voice: male-qn-qingse
Speed: 1.0
Text: '就像心里起的小波浪，是你突然想到的念头'
Traceback:
============================================================
INFO:     127.0.0.1:50262 - "POST /generate-custom-tts HTTP/1.1" 200 OK
INFO:minimax_tts:🔑 Loading MiniMax credentials...
INFO:minimax_tts:   API Key: ✅ Set
INFO:minimax_tts:   Group ID: ✅ Set
INFO:minimax_tts:   Custom Voice: Not set
INFO:minimax_tts:   Model: speech-02-turbo
INFO:minimax_tts:🔧 MiniMax configuration status: ✅ Ready
INFO:minimax_tts:🎯 MiniMax TTS generation started
INFO:minimax_tts:   Text: '就像心里起的小波浪，是你突然想到的念头'
INFO:minimax_tts:   Voice: male-qn-qingse
INFO:minimax_tts:   Speed: 1.0
INFO:minimax_tts:🔑 Loading MiniMax credentials...
INFO:minimax_tts:   API Key: ✅ Set
INFO:minimax_tts:   Group ID: ✅ Set
INFO:minimax_tts:   Custom Voice: Not set
INFO:minimax_tts:   Model: speech-02-turbo
INFO:minimax_tts:🔧 MiniMax configuration status: ✅ Ready
INFO:minimax_tts:   Cleaned text: '就像心里起的小波浪，是你突然想到的念头'
INFO:minimax_tts:🔄 Calling MiniMax API...
INFO:minimax_tts:📞 API Request Details:
INFO:minimax_tts:   URL: https://api.minimax.io/v1/t2a_v2?GroupId=1881950105762796202
INFO:minimax_tts:   Model: speech-02-turbo
INFO:minimax_tts:   Voice: male-qn-qingse (requested: male-qn-qingse)
INFO:minimax_tts:   Speed: 1.0
INFO:minimax_tts:   Text length: 19 characters
INFO:minimax_tts:🎯 Attempting to enable subtitles for sentence-level timing
INFO:minimax_tts:🔄 Sending request to MiniMax API...
INFO:watchfiles.main:1 change detected
INFO:minimax_tts:📊 Response received in 1.10s
INFO:minimax_tts:   Status code: 200
INFO:minimax_tts:   Response size: 67 bytes
DEBUG:minimax_tts:📋 API Response structure: ['base_resp']
INFO:minimax_tts:   API Status: 1004 - token is unusable
ERROR:minimax_tts:❌ MiniMax API error: token is unusable
ERROR:minimax_tts:❌ TTS generation failed: MiniMax API error: token is unusable
ERROR:minimax_tts:❌ MiniMax TTS generation failed: MiniMax TTS generation failed: MiniMax API error: token is unusable
Traceback (most recent call last):
  File "/mnt/d/FastTTS/tts/minimax_tts_engine.py", line 247, in _call_minimax_api
    raise RuntimeError(f"MiniMax API error: {error_msg}")
RuntimeError: MiniMax API error: token is unusable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/mnt/d/FastTTS/main.py", line 643, in _generate_tts_response
    audio_data, word_timings = await tts_engine.generate_speech(text, voice, speed)
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/FastTTS/tts/minimax_tts_engine.py", line 152, in generate_speech
    audio_bytes, sentence_timings = await self._call_minimax_api(cleaned_text, voice, speed)
                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/FastTTS/tts/minimax_tts_engine.py", line 277, in _call_minimax_api
    raise RuntimeError(f"MiniMax TTS generation failed: {str(e)}")
RuntimeError: MiniMax TTS generation failed: MiniMax API error: token is unusable
============================================================
🎯 TTS GENERATION REQUEST STARTED
============================================================
📝 Form data received:
   Text: '就像心里起的小波浪，是你突然想到的念头'
   Engine: hailuo
   Voice: male-qn-qingse
   Speed: 1
🎤 Final parameters: engine=hailuo, voice=male-qn-qingse, speed=1×

🔧 _generate_tts_response called:
   Text: '就像心里起的小波浪，是你突然想到的念头'
   Engine: hailuo
   Voice: male-qn-qingse
   Speed: 1.0
🏭 Creating TTS engine instance for: hailuo
✅ Engine created: MiniMax Hailuo
🔧 Engine configuration status: True
🚀 Starting TTS generation with MiniMax Hailuo
============================================================
❌ TTS GENERATION FAILED
============================================================
Error type: RuntimeError
Error message: MiniMax TTS generation failed: MiniMax API error: token is unusable
Engine: hailuo
Voice: male-qn-qingse
Speed: 1.0
Text: '就像心里起的小波浪，是你突然想到的念头'
Traceback:
============================================================
INFO:     127.0.0.1:50262 - "POST /generate-custom-tts HTTP/1.1" 200 OK
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:     127.0.0.1:50266 - "GET /load-session/20250618_200050 HTTP/1.1" 200 OK
INFO:watchfiles.main:1 change detected
INFO:minimax_tts:🔑 Loading MiniMax credentials...
INFO:minimax_tts:   API Key: ✅ Set
INFO:minimax_tts:   Group ID: ✅ Set
INFO:minimax_tts:   Custom Voice: Not set
INFO:minimax_tts:   Model: speech-02-turbo
INFO:minimax_tts:🔧 MiniMax configuration status: ✅ Ready
INFO:minimax_tts:🎯 MiniMax TTS generation started
INFO:minimax_tts:   Text: '美国的资本也在暗戳戳的干这事。'
INFO:minimax_tts:   Voice: custom
INFO:minimax_tts:   Speed: 1.0
INFO:minimax_tts:🔑 Loading MiniMax credentials...
INFO:minimax_tts:   API Key: ✅ Set
INFO:minimax_tts:   Group ID: ✅ Set
INFO:minimax_tts:   Custom Voice: Not set
INFO:minimax_tts:   Model: speech-02-turbo
INFO:minimax_tts:🔧 MiniMax configuration status: ✅ Ready
INFO:minimax_tts:   Cleaned text: '美国的资本也在暗戳戳的干这事。'
INFO:minimax_tts:🔄 Calling MiniMax API...
INFO:minimax_tts:📞 API Request Details:
INFO:minimax_tts:   URL: https://api.minimax.io/v1/t2a_v2?GroupId=1881950105762796202
INFO:minimax_tts:   Model: speech-02-turbo
INFO:minimax_tts:   Voice: custom (requested: custom)
INFO:minimax_tts:   Speed: 1.0
INFO:minimax_tts:   Text length: 15 characters
INFO:minimax_tts:🎯 Attempting to enable subtitles for sentence-level timing
INFO:minimax_tts:🔄 Sending request to MiniMax API...
INFO:minimax_tts:📊 Response received in 1.09s
INFO:minimax_tts:   Status code: 200
INFO:minimax_tts:   Response size: 67 bytes
DEBUG:minimax_tts:📋 API Response structure: ['base_resp']
INFO:minimax_tts:   API Status: 1004 - token is unusable
ERROR:minimax_tts:❌ MiniMax API error: token is unusable
ERROR:minimax_tts:❌ TTS generation failed: MiniMax API error: token is unusable
ERROR:minimax_tts:❌ MiniMax TTS generation failed: MiniMax TTS generation failed: MiniMax API error: token is unusable
Traceback (most recent call last):
  File "/mnt/d/FastTTS/tts/minimax_tts_engine.py", line 247, in _call_minimax_api
    raise RuntimeError(f"MiniMax API error: {error_msg}")
RuntimeError: MiniMax API error: token is unusable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/mnt/d/FastTTS/main.py", line 643, in _generate_tts_response
    audio_data, word_timings = await tts_engine.generate_speech(text, voice, speed)
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/FastTTS/tts/minimax_tts_engine.py", line 152, in generate_speech
    audio_bytes, sentence_timings = await self._call_minimax_api(cleaned_text, voice, speed)
                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/FastTTS/tts/minimax_tts_engine.py", line 277, in _call_minimax_api
    raise RuntimeError(f"MiniMax TTS generation failed: {str(e)}")
RuntimeError: MiniMax TTS generation failed: MiniMax API error: token is unusable
============================================================
🎯 TTS GENERATION REQUEST STARTED
============================================================
📝 Form data received:
   Text: '美国的资本也在暗戳戳的干这事。'
   Engine: hailuo
   Voice: custom
   Speed: 1
🎤 Final parameters: engine=hailuo, voice=custom, speed=1×

🔧 _generate_tts_response called:
   Text: '美国的资本也在暗戳戳的干这事。'
   Engine: hailuo
   Voice: custom
   Speed: 1.0
🏭 Creating TTS engine instance for: hailuo
✅ Engine created: MiniMax Hailuo
🔧 Engine configuration status: True
🚀 Starting TTS generation with MiniMax Hailuo
============================================================
❌ TTS GENERATION FAILED
============================================================
Error type: RuntimeError
Error message: MiniMax TTS generation failed: MiniMax API error: token is unusable
Engine: hailuo
Voice: custom
Speed: 1.0
Text: '美国的资本也在暗戳戳的干这事。'
Traceback:
============================================================
INFO:     127.0.0.1:50276 - "POST /generate-custom-tts HTTP/1.1" 200 OK
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:     127.0.0.1:50284 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404 Not Found
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
🎯 Word interaction received: hover-enter on '资本' (word-2)
📊 Processing hover-enter for word '资本' at position 2
INFO:     127.0.0.1:49836 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
🎯 Word interaction received: hover-enter on '的' (word-8)
📊 Processing hover-enter for word '的' at position 8
INFO:     127.0.0.1:49838 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '戳' (word-7)
📊 Processing hover-enter for word '戳' at position 7
INFO:     127.0.0.1:49838 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '戳' (word-6)
📊 Processing hover-enter for word '戳' at position 6
INFO:     127.0.0.1:49838 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '暗' (word-5)
📊 Processing hover-enter for word '暗' at position 5
INFO:     127.0.0.1:49838 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '在' (word-4)
📊 Processing hover-enter for word '在' at position 4
INFO:     127.0.0.1:49838 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '也' (word-3)
📊 Processing hover-enter for word '也' at position 3
INFO:     127.0.0.1:49838 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '资本' (word-2)
📊 Processing hover-enter for word '资本' at position 2
INFO:     127.0.0.1:49838 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:     127.0.0.1:49838 - "GET /favicon.ico HTTP/1.1" 404 Not Found
🎯 Word interaction received: hover-enter on '在' (word-4)
📊 Processing hover-enter for word '在' at position 4
INFO:     127.0.0.1:49838 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '暗' (word-5)
📊 Processing hover-enter for word '暗' at position 5
INFO:     127.0.0.1:49838 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:watchfiles.main:1 change detected
============================================================
🎯 TTS GENERATION REQUEST STARTED
============================================================
📝 Form data received:
   Text: '美国的资本也在暗戳戳的干这事。'
   Engine: edge
   Voice: zh-CN-XiaoxiaoNeural
   Speed: 1
🎤 Final parameters: engine=edge, voice=zh-CN-XiaoxiaoNeural, speed=1×

🔧 _generate_tts_response called:
   Text: '美国的资本也在暗戳戳的干这事。'
   Engine: edge
   Voice: zh-CN-XiaoxiaoNeural
   Speed: 1.0
🏭 Creating TTS engine instance for: edge
✅ Engine created: Edge TTS
🚀 Starting TTS generation with Edge TTS
✅ TTS generation completed!
   Audio size: 20880 bytes
   Word timings: 12 entries
INFO:     127.0.0.1:49838 - "POST /generate-custom-tts HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '暗' (word-5)
📊 Processing hover-enter for word '暗' at position 5
INFO:     127.0.0.1:49838 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '在' (word-4)
📊 Processing hover-enter for word '在' at position 4
INFO:     127.0.0.1:49838 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '在' (word-4)
📊 Processing hover-enter for word '在' at position 4
INFO:     127.0.0.1:49838 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:watchfiles.main:2 changes detected
🎯 Word interaction received: hover-enter on '戳' (word-7)
📊 Processing hover-enter for word '戳' at position 7
INFO:     127.0.0.1:49838 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '戳' (word-6)
📊 Processing hover-enter for word '戳' at position 6
INFO:     127.0.0.1:49838 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '暗' (word-5)
📊 Processing hover-enter for word '暗' at position 5
INFO:     127.0.0.1:49838 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '在' (word-4)
📊 Processing hover-enter for word '在' at position 4
INFO:     127.0.0.1:49838 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '也' (word-3)
📊 Processing hover-enter for word '也' at position 3
INFO:     127.0.0.1:49838 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '事' (word-11)
📊 Processing hover-enter for word '事' at position 11
INFO:     127.0.0.1:49838 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '这' (word-10)
📊 Processing hover-enter for word '这' at position 10
INFO:     127.0.0.1:49838 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:watchfiles.main:1 change detected
INFO:     127.0.0.1:49838 - "GET /load-session/20250618_004434 HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '先' (word-47)
📊 Processing hover-enter for word '先' at position 47
INFO:     127.0.0.1:49838 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '民主' (word-48)
📊 Processing hover-enter for word '民主' at position 48
INFO:     127.0.0.1:49838 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '讨论' (word-49)
📊 Processing hover-enter for word '讨论' at position 49
INFO:     127.0.0.1:49838 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '所以' (word-58)
📊 Processing hover-enter for word '所以' at position 58
INFO:     127.0.0.1:49838 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '全票' (word-59)
📊 Processing hover-enter for word '全票' at position 59
INFO:     127.0.0.1:49838 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '通过' (word-60)
📊 Processing hover-enter for word '通过' at position 60
INFO:     127.0.0.1:49838 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '不' (word-61)
📊 Processing hover-enter for word '不' at position 61
INFO:     127.0.0.1:49838 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '奇怪' (word-62)
📊 Processing hover-enter for word '奇怪' at position 62
INFO:     127.0.0.1:49838 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:watchfiles.main:1 change detected
============================================================
🎯 TTS GENERATION REQUEST STARTED
============================================================
📝 Form data received:
   Text: '美国的资本也在暗戳戳的干这事。现在对民主的定义,默认是西方式民主。你采用了这个标准，就理解不了华春莹...'
   Engine: edge
   Voice: zh-CN-XiaoxiaoNeural
   Speed: 1
🎤 Final parameters: engine=edge, voice=zh-CN-XiaoxiaoNeural, speed=1×

🔧 _generate_tts_response called:
   Text: '美国的资本也在暗戳戳的干这事。现在对民主的定义,默认是西方式民主。你采用了这个标准，就理解不了华春莹说的话，中国的民主还是真正的民主，因为中国的民主是民主集中制，先民主讨论�找到不同意见的最大公约数，再集中表决，所以全票通过不奇怪，而西方会觉得太假了，怎么可能有全票通过这种事，你好歹找人表演一下反对派吧，美国的资本也在暗戳戳的干这事。现在对民主的定义,默认是西方式民主。你采用了这个标准，就理解不了华春莹说的话，中国的民主还是真正的民主，因为中国的民主是民主集中制，先民主讨论�找到不同意见的最大公约数，再集中表决，所以全票通过不奇怪，而西方会觉得太假了，怎么可能有全票通过这种事，你好歹找人表演一下反对派吧，美国的资本也在暗戳戳的干这事。现在对民主的定义,默认是西方式民主。你采用了这个标准，就理解不了华春莹说的话，中国的民主还是真正的民主，因为中国的民主是民主集中制，先民主讨论�找到不同意见的最大公约数，再集中表决，所以全票通过不奇怪，而西方会觉得太假了，怎么可能有全票通过这种事，你好歹找人表演一下反对派吧，'
   Engine: edge
   Voice: zh-CN-XiaoxiaoNeural
   Speed: 1.0
🏭 Creating TTS engine instance for: edge
✅ Engine created: Edge TTS
🚀 Starting TTS generation with Edge TTS
🎯 Word interaction received: hover-enter on '意见' (word-52)
📊 Processing hover-enter for word '意见' at position 52
INFO:     127.0.0.1:38280 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '不同' (word-51)
📊 Processing hover-enter for word '不同' at position 51
INFO:     127.0.0.1:38280 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '的' (word-43)
📊 Processing hover-enter for word '的' at position 43
INFO:     127.0.0.1:38280 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '中国' (word-42)
📊 Processing hover-enter for word '中国' at position 42
INFO:     127.0.0.1:38280 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '因为' (word-41)
📊 Processing hover-enter for word '因为' at position 41
INFO:     127.0.0.1:38280 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '华春莹' (word-30)
📊 Processing hover-enter for word '华春莹' at position 30
INFO:     127.0.0.1:38280 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '民主' (word-40)
📊 Processing hover-enter for word '民主' at position 40
INFO:     127.0.0.1:38286 - "POST /word-interaction HTTP/1.1" 200 OK
✅ TTS generation completed!
   Audio size: 560880 bytes
   Word timings: 252 entries
INFO:     127.0.0.1:49838 - "POST /generate-custom-tts HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '民主' (word-21)
📊 Processing hover-enter for word '民主' at position 21
INFO:     127.0.0.1:49838 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '事' (word-11)
📊 Processing hover-enter for word '事' at position 11
INFO:     127.0.0.1:49838 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '这' (word-10)
📊 Processing hover-enter for word '这' at position 10
INFO:     127.0.0.1:49838 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '美国' (word-0)
📊 Processing hover-enter for word '美国' at position 0
INFO:     127.0.0.1:49838 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '美国' (word-0)
📊 Processing hover-enter for word '美国' at position 0
INFO:     127.0.0.1:49838 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '的' (word-1)
📊 Processing hover-enter for word '的' at position 1
INFO:     127.0.0.1:49838 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '资本' (word-2)
📊 Processing hover-enter for word '资本' at position 2
INFO:     127.0.0.1:49838 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:watchfiles.main:2 changes detected
🎯 Word interaction received: hover-enter on '在' (word-4)
📊 Processing hover-enter for word '在' at position 4
INFO:     127.0.0.1:49838 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '民主' (word-14)
📊 Processing hover-enter for word '民主' at position 14
INFO:     127.0.0.1:49838 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '了' (word-24)
📊 Processing hover-enter for word '了' at position 24
INFO:     127.0.0.1:49838 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:watchfiles.main:1 change detected
🎯 Word interaction received: hover-enter on '这个' (word-25)
📊 Processing hover-enter for word '这个' at position 25
INFO:     127.0.0.1:49838 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '了' (word-24)
📊 Processing hover-enter for word '了' at position 24
INFO:     127.0.0.1:49838 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '话' (word-33)
📊 Processing hover-enter for word '话' at position 33
INFO:     127.0.0.1:49838 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: left-click on '话' (word-33)
📊 Processing left-click for word '话' at position 33
INFO:     127.0.0.1:49838 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: right-click on '话' (word-33)
📊 Processing right-click for word '话' at position 33
INFO:     127.0.0.1:49838 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: right-click on '话' (word-33)
📊 Processing right-click for word '话' at position 33
INFO:     127.0.0.1:49838 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '的' (word-32)
📊 Processing hover-enter for word '的' at position 32
INFO:     127.0.0.1:49838 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '说' (word-31)
📊 Processing hover-enter for word '说' at position 31
INFO:     127.0.0.1:49838 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '你' (word-22)
📊 Processing hover-enter for word '你' at position 22
INFO:     127.0.0.1:49838 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:watchfiles.main:1 change detected
🎯 Word interaction received: hover-enter on '对' (word-13)
📊 Processing hover-enter for word '对' at position 13
INFO:     127.0.0.1:49838 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '也' (word-3)
📊 Processing hover-enter for word '也' at position 3
INFO:     127.0.0.1:49838 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '在' (word-4)
📊 Processing hover-enter for word '在' at position 4
INFO:     127.0.0.1:49838 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '资本' (word-2)
📊 Processing hover-enter for word '资本' at position 2
INFO:     127.0.0.1:49838 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '的' (word-1)
📊 Processing hover-enter for word '的' at position 1
INFO:     127.0.0.1:49838 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '美国' (word-0)
📊 Processing hover-enter for word '美国' at position 0
INFO:     127.0.0.1:49838 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
============================================================
🎯 TTS GENERATION REQUEST STARTED
============================================================
📝 Form data received:
   Text: '我们不得不问，理想的社会是怎样的？难道发展好经济，就可以忽视自由的价值？还是说，在不同文化和发展阶段...'
   Engine: edge
   Voice: zh-CN-XiaoxiaoNeural
   Speed: 1
🎤 Final parameters: engine=edge, voice=zh-CN-XiaoxiaoNeural, speed=1×

🔧 _generate_tts_response called:
   Text: '我们不得不问，理想的社会是怎样的？难道发展好经济，就可以忽视自由的价值？还是说，在不同文化和发展阶段，自由的表现形式必须有所差异？这其实是每个发展中国家都要面对的难题'
   Engine: edge
   Voice: zh-CN-XiaoxiaoNeural
   Speed: 1.0
🏭 Creating TTS engine instance for: edge
✅ Engine created: Edge TTS
🚀 Starting TTS generation with Edge TTS
✅ TTS generation completed!
   Audio size: 107424 bytes
   Word timings: 44 entries
INFO:     127.0.0.1:38300 - "POST /generate-custom-tts HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '发展中国家' (word-38)
📊 Processing hover-enter for word '发展中国家' at position 38
INFO:     127.0.0.1:38300 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '的' (word-28)
📊 Processing hover-enter for word '的' at position 28
INFO:     127.0.0.1:38300 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '价值' (word-18)
📊 Processing hover-enter for word '价值' at position 18
INFO:     127.0.0.1:38300 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '的' (word-17)
📊 Processing hover-enter for word '的' at position 17
INFO:     127.0.0.1:38300 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '怎样' (word-7)
📊 Processing hover-enter for word '怎样' at position 7
INFO:     127.0.0.1:38300 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '是' (word-6)
📊 Processing hover-enter for word '是' at position 6
INFO:     127.0.0.1:38300 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:watchfiles.main:2 changes detected
🎯 Word interaction received: hover-enter on '社会' (word-5)
📊 Processing hover-enter for word '社会' at position 5
INFO:     127.0.0.1:38300 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '自由' (word-16)
📊 Processing hover-enter for word '自由' at position 16
INFO:     127.0.0.1:38300 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '阶段' (word-26)
📊 Processing hover-enter for word '阶段' at position 26
INFO:     127.0.0.1:38300 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '自由' (word-27)
📊 Processing hover-enter for word '自由' at position 27
INFO:     127.0.0.1:38300 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '的' (word-28)
📊 Processing hover-enter for word '的' at position 28
INFO:     127.0.0.1:38300 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '发展中国家' (word-38)
📊 Processing hover-enter for word '发展中国家' at position 38
INFO:     127.0.0.1:38300 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '发展中国家' (word-38)
📊 Processing hover-enter for word '发展中国家' at position 38
INFO:     127.0.0.1:38300 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '自由' (word-27)
📊 Processing hover-enter for word '自由' at position 27
INFO:     127.0.0.1:38300 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '的' (word-17)
📊 Processing hover-enter for word '的' at position 17
INFO:     127.0.0.1:38300 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '是' (word-6)
📊 Processing hover-enter for word '是' at position 6
INFO:     127.0.0.1:38300 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '社会' (word-5)
📊 Processing hover-enter for word '社会' at position 5
INFO:     127.0.0.1:38300 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
🎯 Word interaction received: hover-enter on '的' (word-8)
📊 Processing hover-enter for word '的' at position 8
INFO:     127.0.0.1:38316 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '怎样' (word-7)
📊 Processing hover-enter for word '怎样' at position 7
INFO:     127.0.0.1:38316 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '自由' (word-16)
📊 Processing hover-enter for word '自由' at position 16
INFO:     127.0.0.1:38316 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '阶段' (word-26)
📊 Processing hover-enter for word '阶段' at position 26
INFO:     127.0.0.1:38316 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '是' (word-36)
📊 Processing hover-enter for word '是' at position 36
INFO:     127.0.0.1:38316 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:minimax_tts:🔑 Loading MiniMax credentials...
INFO:minimax_tts:   API Key: ✅ Set
INFO:minimax_tts:   Group ID: ✅ Set
INFO:minimax_tts:   Custom Voice: Not set
INFO:minimax_tts:   Model: speech-02-turbo
INFO:minimax_tts:🔧 MiniMax configuration status: ✅ Ready
INFO:minimax_tts:🎯 MiniMax TTS generation started
INFO:minimax_tts:   Text: '我们不得不问，理想的社会是怎样的？难道发展好经济，就可以忽视自由的价值？还是说，在不同文化和发展阶段...'
INFO:minimax_tts:   Voice: custom
INFO:minimax_tts:   Speed: 1.0
INFO:minimax_tts:🔑 Loading MiniMax credentials...
INFO:minimax_tts:   API Key: ✅ Set
INFO:minimax_tts:   Group ID: ✅ Set
INFO:minimax_tts:   Custom Voice: Not set
INFO:minimax_tts:   Model: speech-02-turbo
INFO:minimax_tts:🔧 MiniMax configuration status: ✅ Ready
INFO:minimax_tts:   Cleaned text: '我们不得不问，理想的社会是怎样的？难道发展好经济，就可以忽视自由的价值？还是说，在不同文化和发展阶段，自由的表现形式必须有所差异？这其实是每个发展中国家都要面对的难题'
INFO:minimax_tts:🔄 Calling MiniMax API...
INFO:minimax_tts:📞 API Request Details:
INFO:minimax_tts:   URL: https://api.minimax.io/v1/t2a_v2?GroupId=1881950105762796202
INFO:minimax_tts:   Model: speech-02-turbo
INFO:minimax_tts:   Voice: custom (requested: custom)
INFO:minimax_tts:   Speed: 1.0
INFO:minimax_tts:   Text length: 83 characters
INFO:minimax_tts:🎯 Attempting to enable subtitles for sentence-level timing
INFO:minimax_tts:🔄 Sending request to MiniMax API...
INFO:minimax_tts:📊 Response received in 1.17s
INFO:minimax_tts:   Status code: 200
INFO:minimax_tts:   Response size: 67 bytes
DEBUG:minimax_tts:📋 API Response structure: ['base_resp']
INFO:minimax_tts:   API Status: 1004 - token is unusable
ERROR:minimax_tts:❌ MiniMax API error: token is unusable
ERROR:minimax_tts:❌ TTS generation failed: MiniMax API error: token is unusable
ERROR:minimax_tts:❌ MiniMax TTS generation failed: MiniMax TTS generation failed: MiniMax API error: token is unusable
Traceback (most recent call last):
  File "/mnt/d/FastTTS/tts/minimax_tts_engine.py", line 247, in _call_minimax_api
    raise RuntimeError(f"MiniMax API error: {error_msg}")
RuntimeError: MiniMax API error: token is unusable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/mnt/d/FastTTS/main.py", line 643, in _generate_tts_response
    audio_data, word_timings = await tts_engine.generate_speech(text, voice, speed)
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/FastTTS/tts/minimax_tts_engine.py", line 152, in generate_speech
    audio_bytes, sentence_timings = await self._call_minimax_api(cleaned_text, voice, speed)
                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/FastTTS/tts/minimax_tts_engine.py", line 277, in _call_minimax_api
    raise RuntimeError(f"MiniMax TTS generation failed: {str(e)}")
RuntimeError: MiniMax TTS generation failed: MiniMax API error: token is unusable
============================================================
🎯 TTS GENERATION REQUEST STARTED
============================================================
📝 Form data received:
   Text: '我们不得不问，理想的社会是怎样的？难道发展好经济，就可以忽视自由的价值？还是说，在不同文化和发展阶段...'
   Engine: hailuo
   Voice: custom
   Speed: 1
🎤 Final parameters: engine=hailuo, voice=custom, speed=1×

🔧 _generate_tts_response called:
   Text: '我们不得不问，理想的社会是怎样的？难道发展好经济，就可以忽视自由的价值？还是说，在不同文化和发展阶段，自由的表现形式必须有所差异？这其实是每个发展中国家都要面对的难题'
   Engine: hailuo
   Voice: custom
   Speed: 1.0
🏭 Creating TTS engine instance for: hailuo
✅ Engine created: MiniMax Hailuo
🔧 Engine configuration status: True
🚀 Starting TTS generation with MiniMax Hailuo
============================================================
❌ TTS GENERATION FAILED
============================================================
Error type: RuntimeError
Error message: MiniMax TTS generation failed: MiniMax API error: token is unusable
Engine: hailuo
Voice: custom
Speed: 1.0
Text: '我们不得不问，理想的社会是怎样的？难道发展好经济，就可以忽视自由的价值？还是说，在不同文化和发展阶段，自由的表现形式必须有所差异？这其实是每个发展中国家都要面对的难题'
Traceback:
============================================================
INFO:     127.0.0.1:38316 - "POST /generate-custom-tts HTTP/1.1" 200 OK
INFO:watchfiles.main:1 change detected
🎯 Word interaction received: hover-enter on '发展中国家' (word-38)
📊 Processing hover-enter for word '发展中国家' at position 38
INFO:     127.0.0.1:33946 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '的' (word-28)
📊 Processing hover-enter for word '的' at position 28
INFO:     127.0.0.1:33946 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '的' (word-17)
📊 Processing hover-enter for word '的' at position 17
INFO:     127.0.0.1:33946 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '怎样' (word-7)
📊 Processing hover-enter for word '怎样' at position 7
INFO:     127.0.0.1:33946 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '是' (word-6)
📊 Processing hover-enter for word '是' at position 6
INFO:     127.0.0.1:33956 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:watchfiles.main:1 change detected
🎯 Word interaction received: hover-enter on '的' (word-4)
📊 Processing hover-enter for word '的' at position 4
INFO:     127.0.0.1:33956 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '忽视' (word-15)
📊 Processing hover-enter for word '忽视' at position 15
INFO:     127.0.0.1:33956 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '发展' (word-25)
📊 Processing hover-enter for word '发展' at position 25
INFO:     127.0.0.1:33956 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '其实' (word-35)
📊 Processing hover-enter for word '其实' at position 35
INFO:     127.0.0.1:33956 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '是' (word-36)
📊 Processing hover-enter for word '是' at position 36
INFO:     127.0.0.1:33956 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:     127.0.0.1:33956 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404 Not Found
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
🎯 Word interaction received: hover-enter on '有所' (word-32)
📊 Processing hover-enter for word '有所' at position 32
INFO:     127.0.0.1:33968 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '文化' (word-23)
📊 Processing hover-enter for word '文化' at position 23
INFO:     127.0.0.1:33968 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '和' (word-24)
📊 Processing hover-enter for word '和' at position 24
INFO:     127.0.0.1:33968 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '发展' (word-25)
📊 Processing hover-enter for word '发展' at position 25
INFO:     127.0.0.1:33968 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '自由' (word-16)
📊 Processing hover-enter for word '自由' at position 16
INFO:     127.0.0.1:33968 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:watchfiles.main:1 change detected
🎯 Word interaction received: hover-enter on '表现' (word-29)
📊 Processing hover-enter for word '表现' at position 29
INFO:     127.0.0.1:33968 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '的' (word-28)
📊 Processing hover-enter for word '的' at position 28
INFO:     127.0.0.1:33968 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '自由' (word-27)
📊 Processing hover-enter for word '自由' at position 27
INFO:     127.0.0.1:33968 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '阶段' (word-26)
📊 Processing hover-enter for word '阶段' at position 26
INFO:     127.0.0.1:33968 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '忽视' (word-15)
📊 Processing hover-enter for word '忽视' at position 15
INFO:     127.0.0.1:33968 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '可以' (word-14)
📊 Processing hover-enter for word '可以' at position 14
INFO:     127.0.0.1:33968 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '就' (word-13)
📊 Processing hover-enter for word '就' at position 13
INFO:     127.0.0.1:33968 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '经济' (word-12)
📊 Processing hover-enter for word '经济' at position 12
INFO:     127.0.0.1:33968 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '不得不' (word-1)
📊 Processing hover-enter for word '不得不' at position 1
INFO:     127.0.0.1:33968 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '我们' (word-0)
📊 Processing hover-enter for word '我们' at position 0
INFO:     127.0.0.1:33968 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '不得不' (word-1)
📊 Processing hover-enter for word '不得不' at position 1
INFO:     127.0.0.1:33968 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:watchfiles.main:1 change detected
🎯 Word interaction received: hover-enter on '问' (word-2)
📊 Processing hover-enter for word '问' at position 2
INFO:     127.0.0.1:33976 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '经济' (word-12)
📊 Processing hover-enter for word '经济' at position 12
INFO:     127.0.0.1:33976 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '就' (word-13)
📊 Processing hover-enter for word '就' at position 13
INFO:     127.0.0.1:33976 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '文化' (word-23)
📊 Processing hover-enter for word '文化' at position 23
INFO:     127.0.0.1:33976 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '差异' (word-33)
📊 Processing hover-enter for word '差异' at position 33
INFO:     127.0.0.1:33976 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '差异' (word-33)
📊 Processing hover-enter for word '差异' at position 33
INFO:     127.0.0.1:33976 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '文化' (word-23)
📊 Processing hover-enter for word '文化' at position 23
INFO:     127.0.0.1:33976 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '文化' (word-23)
📊 Processing hover-enter for word '文化' at position 23
INFO:     127.0.0.1:33976 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: left-click on '文化' (word-23)
📊 Processing left-click for word '文化' at position 23
INFO:     127.0.0.1:33976 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:watchfiles.main:1 change detected
🎯 Word interaction received: right-click on '文化' (word-23)
📊 Processing right-click for word '文化' at position 23
INFO:     127.0.0.1:33976 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: right-click on '文化' (word-23)
📊 Processing right-click for word '文化' at position 23
INFO:     127.0.0.1:33976 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '和' (word-24)
📊 Processing hover-enter for word '和' at position 24
INFO:     127.0.0.1:33976 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '发展' (word-25)
📊 Processing hover-enter for word '发展' at position 25
INFO:     127.0.0.1:33976 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '阶段' (word-26)
📊 Processing hover-enter for word '阶段' at position 26
INFO:     127.0.0.1:33976 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '忽视' (word-15)
📊 Processing hover-enter for word '忽视' at position 15
INFO:     127.0.0.1:33976 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '的' (word-4)
📊 Processing hover-enter for word '的' at position 4
INFO:     127.0.0.1:33976 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '理想' (word-3)
📊 Processing hover-enter for word '理想' at position 3
INFO:     127.0.0.1:33976 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '理想' (word-3)
📊 Processing hover-enter for word '理想' at position 3
INFO:     127.0.0.1:33976 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '就' (word-13)
📊 Processing hover-enter for word '就' at position 13
INFO:     127.0.0.1:33976 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '和' (word-24)
📊 Processing hover-enter for word '和' at position 24
INFO:     127.0.0.1:33976 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '难题' (word-43)
📊 Processing hover-enter for word '难题' at position 43
INFO:     127.0.0.1:33976 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '难题' (word-43)
📊 Processing hover-enter for word '难题' at position 43
INFO:     127.0.0.1:33976 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:watchfiles.main:1 change detected
🎯 Word interaction received: hover-enter on '的' (word-42)
📊 Processing hover-enter for word '的' at position 42
INFO:     127.0.0.1:33976 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
🎯 Word interaction received: hover-enter on '就' (word-13)
📊 Processing hover-enter for word '就' at position 13
INFO:     127.0.0.1:48452 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '文化' (word-23)
📊 Processing hover-enter for word '文化' at position 23
INFO:     127.0.0.1:48452 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '和' (word-24)
📊 Processing hover-enter for word '和' at position 24
INFO:     127.0.0.1:48452 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '这' (word-34)
📊 Processing hover-enter for word '这' at position 34
INFO:     127.0.0.1:48452 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:watchfiles.main:1 change detected
🎯 Word interaction received: hover-enter on '发展中国家' (word-38)
📊 Processing hover-enter for word '发展中国家' at position 38
INFO:     127.0.0.1:48452 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '自由' (word-27)
📊 Processing hover-enter for word '自由' at position 27
INFO:     127.0.0.1:48452 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '的' (word-17)
📊 Processing hover-enter for word '的' at position 17
INFO:     127.0.0.1:48452 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '自由' (word-16)
📊 Processing hover-enter for word '自由' at position 16
INFO:     127.0.0.1:48452 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '是' (word-6)
📊 Processing hover-enter for word '是' at position 6
INFO:     127.0.0.1:48452 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '社会' (word-5)
📊 Processing hover-enter for word '社会' at position 5
INFO:     127.0.0.1:48452 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
🎯 Word interaction received: hover-enter on '的' (word-8)
📊 Processing hover-enter for word '的' at position 8
INFO:     127.0.0.1:48466 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '价值' (word-18)
📊 Processing hover-enter for word '价值' at position 18
INFO:     127.0.0.1:48466 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '的' (word-28)
📊 Processing hover-enter for word '的' at position 28
INFO:     127.0.0.1:48466 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '发展中国家' (word-38)
📊 Processing hover-enter for word '发展中国家' at position 38
INFO:     127.0.0.1:48466 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:watchfiles.main:1 change detected
============================================================
🎯 TTS GENERATION REQUEST STARTED
============================================================
📝 Form data received:
   Text: '回顾历史，文革的错误早已被承认，毛泽东的过错也经过纠正和[[反思]]。这使得文革不再成为攻击的[[焦...'
   Engine: edge
   Voice: zh-CN-YunxiNeural
   Speed: 0.8
🧹 Text cleaned: '回顾历史，文革的错误早已被承认，毛泽东的过错也经过纠正和[[反思]]。这使得文革不再成为攻击的[[焦点]]。而六四事件则不同，它涉及到诸多利益纠葛，也关乎政治[[体制]]的敏感处。我们为什么对不同的历史事件态度如此不同？[[或许]]，这正[[体现]]了一个社会面对痛苦[[记忆]]的复杂[[心态]]。有些[[真相]]可以说清楚，有些则成了禁区。比如大跃进的死亡人数，几十年如一日都没有官方定论，数字的模糊留给了社会巨大的想象空间。公布具体数字，是承担责任还是制造新矛盾？这个问题难道不是所有国家都会遇到的共同[[困境]]吗？我们又是否能从中看到，历史的[[真相]]不是绝对的，而是被[[政治]]、利益和时间所[[塑造]]的？' -> '回顾历史，文革的错误早已被承认，毛泽东的过错也经过纠正和反思。这使得文革不再成为攻击的焦点。而六四事件则不同，它涉及到诸多利益纠葛，也关乎政治体制的敏感处。我们为什么对不同的历史事件态度如此不同？或许，这正体现了一个社会面对痛苦记忆的复杂心态。有些真相可以说清楚，有些则成了禁区。比如大跃进的死亡人数，几十年如一日都没有官方定论，数字的模糊留给了社会巨大的想象空间。公布具体数字，是承担责任还是制造新矛盾？这个问题难道不是所有国家都会遇到的共同困境吗？我们又是否能从中看到，历史的真相不是绝对的，而是被政治、利益和时间所塑造的？'
🎤 Final parameters: engine=edge, voice=zh-CN-YunxiNeural, speed=0.8×

🔧 _generate_tts_response called:
   Text: '回顾历史，文革的错误早已被承认，毛泽东的过错也经过纠正和反思。这使得文革不再成为攻击的焦点。而六四事件则不同，它涉及到诸多利益纠葛，也关乎政治体制的敏感处。我们为什么对不同的历史事件态度如此不同？或许，这正体现了一个社会面对痛苦记忆的复杂心态。有些真相可以说清楚，有些则成了禁区。比如大跃进的死亡人数，几十年如一日都没有官方定论，数字的模糊留给了社会巨大的想象空间。公布具体数字，是承担责任还是制造新矛盾？这个问题难道不是所有国家都会遇到的共同困境吗？我们又是否能从中看到，历史的真相不是绝对的，而是被政治、利益和时间所塑造的？'
   Engine: edge
   Voice: zh-CN-YunxiNeural
   Speed: 0.8
🏭 Creating TTS engine instance for: edge
✅ Engine created: Edge TTS
🚀 Starting TTS generation with Edge TTS
✅ TTS generation completed!
   Audio size: 398304 bytes
   Word timings: 139 entries
INFO:     127.0.0.1:48466 - "POST /generate-custom-tts HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '体现' (word-55)
📊 Processing hover-enter for word '体现' at position 55
INFO:     127.0.0.1:48466 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '不同' (word-45)
📊 Processing hover-enter for word '不同' at position 45
INFO:     127.0.0.1:48466 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '对' (word-44)
📊 Processing hover-enter for word '对' at position 44
INFO:     127.0.0.1:48466 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '为什么' (word-43)
📊 Processing hover-enter for word '为什么' at position 43
INFO:     127.0.0.1:48466 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '纠葛' (word-34)
📊 Processing hover-enter for word '纠葛' at position 34
INFO:     127.0.0.1:48466 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '利益' (word-33)
📊 Processing hover-enter for word '利益' at position 33
INFO:     127.0.0.1:48466 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '诸多' (word-32)
📊 Processing hover-enter for word '诸多' at position 32
INFO:     127.0.0.1:48466 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '焦点' (word-23)
📊 Processing hover-enter for word '焦点' at position 23
INFO:     127.0.0.1:48466 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '的' (word-22)
📊 Processing hover-enter for word '的' at position 22
INFO:     127.0.0.1:48466 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '焦点' (word-23)
📊 Processing hover-enter for word '焦点' at position 23
INFO:     127.0.0.1:48466 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: left-click on '焦点' (word-23)
📊 Processing left-click for word '焦点' at position 23
INFO:     127.0.0.1:48466 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:     127.0.0.1:48466 - "POST /vocabulary-display HTTP/1.1" 200 OK
INFO:     127.0.0.1:48466 - "GET /static/css/themes.css?v=2 HTTP/1.1" 200 OK
INFO:     127.0.0.1:48480 - "GET /static/css/components.css?v=2 HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '而' (word-24)
📊 Processing hover-enter for word '而' at position 24
INFO:     127.0.0.1:48466 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '反思' (word-15)
📊 Processing hover-enter for word '反思' at position 15
INFO:     127.0.0.1:48466 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: left-click on '反思' (word-15)
📊 Processing left-click for word '反思' at position 15
INFO:     127.0.0.1:48466 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:     127.0.0.1:48466 - "POST /vocabulary-display HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '六四' (word-25)
📊 Processing hover-enter for word '六四' at position 25
INFO:     127.0.0.1:48466 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:watchfiles.main:2 changes detected
🎯 Word interaction received: hover-enter on '利益' (word-33)
📊 Processing hover-enter for word '利益' at position 33
INFO:     127.0.0.1:48466 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '为什么' (word-43)
📊 Processing hover-enter for word '为什么' at position 43
INFO:     127.0.0.1:48466 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '或许' (word-52)
📊 Processing hover-enter for word '或许' at position 52
INFO:     127.0.0.1:48466 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: left-click on '或许' (word-52)
📊 Processing left-click for word '或许' at position 52
INFO:     127.0.0.1:48466 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:     127.0.0.1:48466 - "POST /vocabulary-display HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '我们' (word-42)
📊 Processing hover-enter for word '我们' at position 42
INFO:     127.0.0.1:48466 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '诸多' (word-32)
📊 Processing hover-enter for word '诸多' at position 32
INFO:     127.0.0.1:48466 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '焦点' (word-23)
📊 Processing hover-enter for word '焦点' at position 23
INFO:     127.0.0.1:48466 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '纠正' (word-13)
📊 Processing hover-enter for word '纠正' at position 13
INFO:     127.0.0.1:48466 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '错误' (word-4)
📊 Processing hover-enter for word '错误' at position 4
INFO:     127.0.0.1:48466 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
🎯 Word interaction received: hover-enter on '错误' (word-4)
📊 Processing hover-enter for word '错误' at position 4
INFO:     127.0.0.1:48482 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '和' (word-14)
📊 Processing hover-enter for word '和' at position 14
INFO:     127.0.0.1:48482 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '六四' (word-25)
📊 Processing hover-enter for word '六四' at position 25
INFO:     127.0.0.1:48482 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '事件' (word-26)
📊 Processing hover-enter for word '事件' at position 26
INFO:     127.0.0.1:48482 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '也' (word-35)
📊 Processing hover-enter for word '也' at position 35
INFO:     127.0.0.1:48482 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '关乎' (word-36)
📊 Processing hover-enter for word '关乎' at position 36
INFO:     127.0.0.1:48482 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '不同' (word-45)
📊 Processing hover-enter for word '不同' at position 45
INFO:     127.0.0.1:48482 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '的' (word-46)
📊 Processing hover-enter for word '的' at position 46
INFO:     127.0.0.1:48482 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '体现' (word-55)
📊 Processing hover-enter for word '体现' at position 55
INFO:     127.0.0.1:48482 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '有些' (word-65)
📊 Processing hover-enter for word '有些' at position 65
INFO:     127.0.0.1:48482 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '没有' (word-83)
📊 Processing hover-enter for word '没有' at position 83
INFO:     127.0.0.1:48482 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '的' (word-93)
📊 Processing hover-enter for word '的' at position 93
INFO:     127.0.0.1:48482 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '都' (word-111)
📊 Processing hover-enter for word '都' at position 111
INFO:     127.0.0.1:48482 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '能' (word-121)
📊 Processing hover-enter for word '能' at position 121
INFO:     127.0.0.1:48482 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '被' (word-131)
📊 Processing hover-enter for word '被' at position 131
INFO:     127.0.0.1:48482 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:watchfiles.main:1 change detected
INFO:     127.0.0.1:48482 - "POST /save-session HTTP/1.1" 200 OK
INFO:     127.0.0.1:48486 - "GET /?custom_text=%E5%9B%9E%E9%A1%BE%E5%8E%86%E5%8F%B2%EF%BC%8C%E6%96%87%E9%9D%A9%E7%9A%84%E9%94%99%E8%AF%AF%E6%97%A9%E5%B7%B2%E8%A2%AB%E6%89%BF%E8%AE%A4%EF%BC%8C%E6%AF%9B%E6%B3%BD%E4%B8%9C%E7%9A%84%E8%BF%87%E9%94%99%E4%B9%9F%E7%BB%8F%E8%BF%87%E7%BA%A0%E6%AD%A3%E5%92%8C%5B%5B%E5%8F%8D%E6%80%9D%5D%5D%E3%80%82%E8%BF%99%E4%BD%BF%E5%BE%97%E6%96%87%E9%9D%A9%E4%B8%8D%E5%86%8D%E6%88%90%E4%B8%BA%E6%94%BB%E5%87%BB%E7%9A%84%5B%5B%E7%84%A6%E7%82%B9%5D%5D%E3%80%82%E8%80%8C%E5%85%AD%E5%9B%9B%E4%BA%8B%E4%BB%B6%E5%88%99%E4%B8%8D%E5%90%8C%EF%BC%8C%E5%AE%83%E6%B6%89%E5%8F%8A%E5%88%B0%E8%AF%B8%E5%A4%9A%E5%88%A9%E7%9B%8A%E7%BA%A0%E8%91%9B%EF%BC%8C%E4%B9%9F%E5%85%B3%E4%B9%8E%E6%94%BF%E6%B2%BB%5B%5B%E4%BD%93%E5%88%B6%5D%5D%E7%9A%84%E6%95%8F%E6%84%9F%E5%A4%84%E3%80%82%E6%88%91%E4%BB%AC%E4%B8%BA%E4%BB%80%E4%B9%88%E5%AF%B9%E4%B8%8D%E5%90%8C%E7%9A%84%E5%8E%86%E5%8F%B2%E4%BA%8B%E4%BB%B6%E6%80%81%E5%BA%A6%E5%A6%82%E6%AD%A4%E4%B8%8D%E5%90%8C%EF%BC%9F%5B%5B%E6%88%96%E8%AE%B8%5D%5D%EF%BC%8C%E8%BF%99%E6%AD%A3%5B%5B%E4%BD%93%E7%8E%B0%5D%5D%E4%BA%86%E4%B8%80%E4%B8%AA%E7%A4%BE%E4%BC%9A%E9%9D%A2%E5%AF%B9%E7%97%9B%E8%8B%A6%5B%5B%E8%AE%B0%E5%BF%86%5D%5D%E7%9A%84%E5%A4%8D%E6%9D%82%5B%5B%E5%BF%83%E6%80%81%5D%5D%E3%80%82%E6%9C%89%E4%BA%9B%5B%5B%E7%9C%9F%E7%9B%B8%5D%5D%E5%8F%AF%E4%BB%A5%E8%AF%B4%E6%B8%85%E6%A5%9A%EF%BC%8C%E6%9C%89%E4%BA%9B%E5%88%99%E6%88%90%E4%BA%86%E7%A6%81%E5%8C%BA%E3%80%82%E6%AF%94%E5%A6%82%E5%A4%A7%E8%B7%83%E8%BF%9B%E7%9A%84%E6%AD%BB%E4%BA%A1%E4%BA%BA%E6%95%B0%EF%BC%8C%E5%87%A0%E5%8D%81%E5%B9%B4%E5%A6%82%E4%B8%80%E6%97%A5%E9%83%BD%E6%B2%A1%E6%9C%89%E5%AE%98%E6%96%B9%E5%AE%9A%E8%AE%BA%EF%BC%8C%E6%95%B0%E5%AD%97%E7%9A%84%E6%A8%A1%E7%B3%8A%E7%95%99%E7%BB%99%E4%BA%86%E7%A4%BE%E4%BC%9A%E5%B7%A8%E5%A4%A7%E7%9A%84%E6%83%B3%E8%B1%A1%E7%A9%BA%E9%97%B4%E3%80%82%E5%85%AC%E5%B8%83%E5%85%B7%E4%BD%93%E6%95%B0%E5%AD%97%EF%BC%8C%E6%98%AF%E6%89%BF%E6%8B%85%E8%B4%A3%E4%BB%BB%E8%BF%98%E6%98%AF%E5%88%B6%E9%80%A0%E6%96%B0%E7%9F%9B%E7%9B%BE%EF%BC%9F%E8%BF%99%E4%B8%AA%E9%97%AE%E9%A2%98%E9%9A%BE%E9%81%93%E4%B8%8D%E6%98%AF%E6%89%80%E6%9C%89%E5%9B%BD%E5%AE%B6%E9%83%BD%E4%BC%9A%E9%81%87%E5%88%B0%E7%9A%84%E5%85%B1%E5%90%8C%5B%5B%E5%9B%B0%E5%A2%83%5D%5D%E5%90%97%EF%BC%9F%E6%88%91%E4%BB%AC%E5%8F%88%E6%98%AF%E5%90%A6%E8%83%BD%E4%BB%8E%E4%B8%AD%E7%9C%8B%E5%88%B0%EF%BC%8C%E5%8E%86%E5%8F%B2%E7%9A%84%5B%5B%E7%9C%9F%E7%9B%B8%5D%5D%E4%B8%8D%E6%98%AF%E7%BB%9D%E5%AF%B9%E7%9A%84%EF%BC%8C%E8%80%8C%E6%98%AF%E8%A2%AB%5B%5B%E6%94%BF%E6%B2%BB%5D%5D%E3%80%81%E5%88%A9%E7%9B%8A%E5%92%8C%E6%97%B6%E9%97%B4%E6%89%80%5B%5B%E5%A1%91%E9%80%A0%5D%5D%E7%9A%84%EF%BC%9F HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '了' (word-73)
📊 Processing hover-enter for word '了' at position 73
INFO:     127.0.0.1:48482 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:     127.0.0.1:48482 - "GET /static/js/settings-manager.js HTTP/1.1" 200 OK
INFO:     127.0.0.1:48486 - "GET / HTTP/1.1" 200 OK
INFO:minimax_tts:🔑 Loading MiniMax credentials...
INFO:minimax_tts:   API Key: ✅ Set
INFO:minimax_tts:   Group ID: ✅ Set
INFO:minimax_tts:   Custom Voice: Not set
INFO:minimax_tts:   Model: speech-02-turbo
INFO:minimax_tts:🔧 MiniMax configuration status: ✅ Ready
INFO:     127.0.0.1:48486 - "GET /tts-engines-info HTTP/1.1" 200 OK
INFO:     127.0.0.1:48486 - "GET /credentials-status HTTP/1.1" 200 OK
INFO:     127.0.0.1:48486 - "GET /load-session/20250619_032132 HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '回顾' (word-0)
📊 Processing hover-enter for word '回顾' at position 0
INFO:     127.0.0.1:48486 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '历史' (word-1)
📊 Processing hover-enter for word '历史' at position 1
INFO:     127.0.0.1:48486 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '文革' (word-2)
📊 Processing hover-enter for word '文革' at position 2
INFO:     127.0.0.1:48486 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '的' (word-3)
📊 Processing hover-enter for word '的' at position 3
INFO:     127.0.0.1:48486 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '错误' (word-4)
📊 Processing hover-enter for word '错误' at position 4
INFO:     127.0.0.1:48486 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '和' (word-14)
📊 Processing hover-enter for word '和' at position 14
INFO:     127.0.0.1:48486 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '反思' (word-15)
📊 Processing hover-enter for word '反思' at position 15
INFO:     127.0.0.1:48486 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:watchfiles.main:6 changes detected
🎯 Word interaction received: hover-enter on '利益' (word-33)
📊 Processing hover-enter for word '利益' at position 33
INFO:     127.0.0.1:48486 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '敏感' (word-40)
📊 Processing hover-enter for word '敏感' at position 40
INFO:     127.0.0.1:48486 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '复杂' (word-63)
📊 Processing hover-enter for word '复杂' at position 63
INFO:     127.0.0.1:48486 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '清楚' (word-69)
📊 Processing hover-enter for word '清楚' at position 69
INFO:     127.0.0.1:48486 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '如此' (word-50)
📊 Processing hover-enter for word '如此' at position 50
INFO:     127.0.0.1:48486 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '敏感' (word-40)
📊 Processing hover-enter for word '敏感' at position 40
INFO:     127.0.0.1:48486 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '利益' (word-33)
📊 Processing hover-enter for word '利益' at position 33
INFO:     127.0.0.1:48486 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '反思' (word-15)
📊 Processing hover-enter for word '反思' at position 15
INFO:     127.0.0.1:48486 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '被' (word-6)
📊 Processing hover-enter for word '被' at position 6
INFO:     127.0.0.1:48486 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '早已' (word-5)
📊 Processing hover-enter for word '早已' at position 5
INFO:     127.0.0.1:48486 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
🎯 Word interaction received: hover-enter on '毛泽东' (word-8)
📊 Processing hover-enter for word '毛泽东' at position 8
INFO:     127.0.0.1:52956 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '承认' (word-7)
📊 Processing hover-enter for word '承认' at position 7
INFO:     127.0.0.1:52956 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '被' (word-6)
📊 Processing hover-enter for word '被' at position 6
INFO:     127.0.0.1:52956 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '早已' (word-5)
📊 Processing hover-enter for word '早已' at position 5
INFO:     127.0.0.1:52956 - "POST /word-interaction HTTP/1.1" 200 OK
🎯 Word interaction received: hover-enter on '早已' (word-5)
📊 Processing hover-enter for word '早已' at position 5
INFO:     127.0.0.1:52956 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
🎯 Word interaction received: hover-enter on '毛泽东' (word-8)
📊 Processing hover-enter for word '毛泽东' at position 8
INFO:     127.0.0.1:38138 - "POST /word-interaction HTTP/1.1" 200 OK
INFO:watchfiles.main:1 change detected
INFO:watchfiles.main:1 change detected
